<!DOCTYPE html><html class="hide-aside" lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySQL作业集合 | Green Park</title><meta name="author" content="6wensitan"><meta name="copyright" content="6wensitan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="MySQL作业数据库概述1、什么是数据库？请简要描述数据库的定义和作用。 数据库是一个用于存储和管理数据的系统。它是一个组织结构化数据的集合，可以通过各种方式访问、管理和更新数据。  数据库的主要作用是提供一个可靠的数据存储解决方案，以便应用程序可以有效地访问和操作数据。  定义：数据库是一个组织结构化数据的集合，通过各种方式访问、管理和更新数据。 作用： 数据存储：数据库提供了一个可靠的数据存储">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL作业集合">
<meta property="og:url" content="https://6wensitan.github.io/post/c9137770.html">
<meta property="og:site_name" content="Green Park">
<meta property="og:description" content="MySQL作业数据库概述1、什么是数据库？请简要描述数据库的定义和作用。 数据库是一个用于存储和管理数据的系统。它是一个组织结构化数据的集合，可以通过各种方式访问、管理和更新数据。  数据库的主要作用是提供一个可靠的数据存储解决方案，以便应用程序可以有效地访问和操作数据。  定义：数据库是一个组织结构化数据的集合，通过各种方式访问、管理和更新数据。 作用： 数据存储：数据库提供了一个可靠的数据存储">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.pixabay.com/photo/2023/07/16/09/31/cat-8130334_640.jpg">
<meta property="article:published_time" content="2023-09-05T09:24:06.000Z">
<meta property="article:modified_time" content="2023-09-20T03:12:16.256Z">
<meta property="article:author" content="6wensitan">
<meta property="article:tag" content="MYSQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.pixabay.com/photo/2023/07/16/09/31/cat-8130334_640.jpg"><link rel="shortcut icon" href="/img/nnwm.jpg"><link rel="canonical" href="https://6wensitan.github.io/post/c9137770.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL作业集合',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-20 11:12:16'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/nnwm.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">44</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">23</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2023/07/16/09/31/cat-8130334_640.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Green Park"><span class="site-name">Green Park</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MySQL作业集合</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-09-05T09:24:06.000Z" title="发表于 2023-09-05 17:24:06">2023-09-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-20T03:12:16.256Z" title="更新于 2023-09-20 11:12:16">2023-09-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/jiepu/">jiepu</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">14.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>53分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="MySQL作业"><a href="#MySQL作业" class="headerlink" title="MySQL作业"></a>MySQL作业</h1><h2 id="数据库概述"><a href="#数据库概述" class="headerlink" title="数据库概述"></a>数据库概述</h2><h3 id="1、什么是数据库？请简要描述数据库的定义和作用。"><a href="#1、什么是数据库？请简要描述数据库的定义和作用。" class="headerlink" title="1、什么是数据库？请简要描述数据库的定义和作用。"></a><strong>1、什么是数据库？请简要描述数据库的定义和作用。</strong></h3><ul>
<li><strong>数据库</strong>是一个用于存储和管理数据的系统。它是一个组织结构化数据的集合，可以通过各种方式访问、管理和更新数据。</li>
</ul>
<p>数据库的主要作用是提供一个可靠的数据存储解决方案，以便应用程序可以有效地访问和操作数据。</p>
<ul>
<li><strong>定义</strong>：数据库是一个组织结构化数据的集合，通过各种方式访问、管理和更新数据。</li>
<li><strong>作用</strong>：<ol>
<li><strong>数据存储</strong>：数据库提供了一个可靠的数据存储解决方案，可以持久化地保存数据。</li>
<li><strong>数据管理</strong>：数据库提供了各种功能和工具来管理数据，包括数据的增删改查、数据的备份和恢复等。</li>
<li><strong>数据安全</strong>：数据库提供了安全机制来保护数据的完整性、可用性和机密性，如用户认证、访问控制等。</li>
<li><strong>数据共享</strong>：数据库可以支持多用户同时访问和共享数据，提供了并发控制机制来保证数据的一致性。</li>
<li><strong>数据查询</strong>：数据库提供了强大的查询语言和索引机制，可以高效地检索和分析数据。</li>
</ol>
</li>
</ul>
<h3 id="2、什么是关系型数据库？关系型数据库中的”关系”体现在哪些方面？"><a href="#2、什么是关系型数据库？关系型数据库中的”关系”体现在哪些方面？" class="headerlink" title="2、什么是关系型数据库？关系型数据库中的”关系”体现在哪些方面？"></a><strong>2、什么是关系型数据库？关系型数据库中的”关系”体现在哪些方面？</strong></h3><ul>
<li><strong>关系型数据库</strong>是一种基于关系模型的数据库管理系统。它使用表格来组织和存储数据，表格由行和列组成，每行表示一个记录，每列表示一个属性。</li>
</ul>
<p>关系型数据库的基本原理包括三个方面：<strong>数据模型、数据结构以及操作语言</strong>.</p>
<ul>
<li>关系型数据库中的”关系”体现在以下几个方面：<ol>
<li>表之间的关系：关系型数据库使用<strong>外键</strong>来建立表之间的关系。通过在一个表中引用另一个表的主键，可以建立起表与表之间的关联关系。</li>
<li>数据的一致性：关系型数据库使用<strong>事务机制</strong>来保证数据的一致性。事务是一组数据库操作的集合，要么全部执行成功，要么全部回滚，保证了数据的完整性和一致性。</li>
<li>数据的完整性：关系型数据库使用<strong>约束</strong>来保证数据的完整性。常见的约束有<strong>主键约束、唯一约束、外键约束和检查约束</strong>，它们限制了数据的取值范围，保证了数据的有效性和一致性。</li>
</ol>
</li>
</ul>
<h3 id="3、说说你对DB、DBMS、SQL的理解"><a href="#3、说说你对DB、DBMS、SQL的理解" class="headerlink" title="3、说说你对DB、DBMS、SQL的理解"></a><strong>3、说说你对DB、DBMS、SQL的理解</strong></h3><p><strong>一、概念</strong></p>
<ul>
<li><p>DB：数据库（database）相当于一个仓库，用于有组织的采存储数据。</p>
</li>
<li><p>DBMS：数据库管理系统（database manage system）数据库是通过DBMS来创建和操作，种类很多（MySQL、Oracle、DB2、SqlServer…）</p>
</li>
<li><p>SQL：结构化查询语言（Structure Query Language）与数据库通讯的语言</p>
</li>
</ul>
<p><strong>二、关系</strong></p>
<ul>
<li>数据库管理系统（DBMS）使用<strong>SQL语句</strong>管理数据库（DB）：</li>
</ul>
<h3 id="4、常见的数据库对象有哪些，列出3个并简述一下其在数据库中的作用"><a href="#4、常见的数据库对象有哪些，列出3个并简述一下其在数据库中的作用" class="headerlink" title="4、常见的数据库对象有哪些，列出3个并简述一下其在数据库中的作用"></a><strong>4、常见的数据库对象有哪些，列出3个并简述一下其在数据库中的作用</strong></h3><p>常见的数据库对象包括<strong>表、字段、视图表、索引</strong>、触发器、存储过程、触发器、规则、缺省值等。</p>
<ol>
<li><strong>表（Table）</strong>是数据库中存储数据的基本单位，由一系列的行和列组成。<strong>表的作用是用于存储和组织数据</strong>，可以通过表来创建、读取、更新和删除数据。表可以定义列的数据类型、约束条件和索引等。</li>
<li><strong>视图（View）</strong>是基于一个或多个表的查询结果集，它是一个<strong>虚拟的表</strong>。视图的作用是提供一个简化和定制化的数据展示方式，可以隐藏底层数据结构和复杂的查询逻辑，<strong>简化用户对数据的操作。</strong></li>
<li><strong>索引（Index）</strong>是一种数据结构，<strong>用于加快数据库的查询速度。</strong>索引的作用是提供一种快速查找数据的方法，通过在某个列或一组列上创建索引，可以加速查询操作。索引可以提高数据的检索效率，但会增加数据的插入、更新和删除的成本。</li>
</ol>
<h2 id="用户与建库"><a href="#用户与建库" class="headerlink" title="用户与建库"></a>用户与建库</h2><h3 id="1、创建一个MySQL用户briup，并给其赋予权限"><a href="#1、创建一个MySQL用户briup，并给其赋予权限" class="headerlink" title="1、创建一个MySQL用户briup，并给其赋予权限"></a><strong>1、创建一个MySQL用户<code>briup</code>，并给其赋予权限</strong></h3><p>1）以具有足够权限的用户身份登录到 MySQL 服务器</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 使用root用户登录</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 输入密码成功登录</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>2）创建用户（briup)，并为其分配密码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create user &#x27;briup&#x27;@&#x27;localhost&#x27; identified by &#x27;briup&#x27;;</span><br></pre></td></tr></table></figure>



<p>3） 根据需要赋予用户授予用户适当的权限</p>
<ul>
<li>授予用户对所有数据库的全部权限</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> dba<span class="variable">@localhost</span> ; <span class="comment">-- dba 可以管理 MySQL 中的所有数据库</span></span><br></pre></td></tr></table></figure>

<ul>
<li>授予用户对指定数据库(如：estore)的全部权限</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">grant</span> <span class="keyword">select</span>,<span class="keyword">delete</span>,<span class="keyword">update</span>,<span class="keyword">insert</span> <span class="keyword">on</span> simpleshop.<span class="operator">*</span> <span class="keyword">to</span> briup@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;briup&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>授予用户对指定数据库(如：estore)的读写权限</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">grant</span> <span class="keyword">select</span>,<span class="keyword">insert</span> <span class="keyword">on</span> simpleshop.<span class="operator">*</span> <span class="keyword">to</span> briup@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;briup&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p>4）在完成权限授予后，使用以下命令刷新 MySQL 权限，以确保新权限生效</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>



<h3 id="2、创建一个数据库test，并指定其编码格式为utf8mb4"><a href="#2、创建一个数据库test，并指定其编码格式为utf8mb4" class="headerlink" title="2、创建一个数据库test，并指定其编码格式为utf8mb4"></a><strong>2、创建一个数据库<code>test</code>，并指定其编码格式为utf8mb4</strong></h3><p>1）以具有足够权限的用户身份登录到 MySQL 服务器</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 使用root用户登录</span></span><br><span class="line">root@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 输入密码成功登录</span></span><br><span class="line">root</span><br></pre></td></tr></table></figure>



<p>2）创建数据库并切换到该数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建一个名为 `test` 的数据库，要求如下：</span></span><br><span class="line"><span class="comment">-- 1.并将其字符集设置为 `utf8mb4`</span></span><br><span class="line"><span class="comment">-- 2.排序规则设置为 `utf8mb4_unicode_ci`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> DATABASE `test` <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci;</span><br><span class="line"><span class="comment">-- 切换到 test数据库中</span></span><br><span class="line">use test;</span><br></pre></td></tr></table></figure>





<h2 id="基础DQL"><a href="#基础DQL" class="headerlink" title="基础DQL"></a>基础DQL</h2><h3 id="1、现有一份sql脚本，如何将其导入到MySQL数据库中"><a href="#1、现有一份sql脚本，如何将其导入到MySQL数据库中" class="headerlink" title="1、现有一份sql脚本，如何将其导入到MySQL数据库中"></a><strong>1、现有一份sql脚本，如何将其导入到MySQL数据库中</strong></h3><blockquote>
<p>sql脚本文件为230705-estore.sql文件<br><img src="../../../TextReading/QQFile/assets/image-20230706144244206.png" alt="image-20230706144244206" style="zoom: 40%;" /></p>
</blockquote>
<p>要将 SQL 脚本导入到 MySQL 数据库中，操作步骤如下：</p>
<p>1）确保你具有足够的权限以导入数据到目标数据库。通常，你需要具有 <code>CREATE</code> 和 <code>INSERT</code> 表的权限</p>
<p>可以使用root用户登录到数据库后导入数据</p>
<p>2）打开命令行终端或使用图形界面工具（如 phpMyAdmin、Navicat 等）连接到 MySQL 数据库服务器</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 使用root用户登录</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 输入密码成功登录</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>3） 创建目标数据库（如果尚未存在），可以使用以下命令创建数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database estore;</span><br></pre></td></tr></table></figure>



<p>4）选择要使用的数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use estore;</span><br></pre></td></tr></table></figure>



<p>5） 执行 SQL 脚本以导入数据。在命令行终端中，可以使用以下命令</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source F:\TextReading\QQFile\<span class="number">230705</span><span class="operator">-</span>estore.sql</span><br></pre></td></tr></table></figure>



<p>6） 等待导入过程完成</p>
<h3 id="2、请在上述导入的数据基础上，完成以下操作"><a href="#2、请在上述导入的数据基础上，完成以下操作" class="headerlink" title="2、请在上述导入的数据基础上，完成以下操作"></a>2、请在上述导入的数据基础上，完成以下操作</h3><p>1）查询图书表中所有图书的名称和作者</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中所有图书的名称和作者</span></span><br><span class="line"><span class="keyword">SELECT</span> eb.`name`,eb.author</span><br><span class="line"><span class="keyword">FROM</span> es_book <span class="keyword">as</span> eb;</span><br></pre></td></tr></table></figure>



<p>2）查询图书表中出版社，并且保证结果不重复</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中出版社，并且保证结果不重复</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> eb.publisher</span><br><span class="line"><span class="keyword">FROM</span> es_book <span class="keyword">as</span> eb;</span><br></pre></td></tr></table></figure>



<p>3）查询图书表中图书的售价大于等于30的图书名称和作者</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中图书的售价大于等于30的图书名称和作者</span></span><br><span class="line"><span class="keyword">SELECT</span> eb.`name`,eb.author</span><br><span class="line"><span class="keyword">FROM</span> es_book <span class="keyword">as</span> eb</span><br><span class="line"><span class="keyword">WHERE</span> eb.price<span class="operator">&gt;=</span><span class="number">30</span>;</span><br></pre></td></tr></table></figure>



<p>4）查询图书表中出版社为”上海文艺出版社”的图书信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中出版社为&quot;上海文艺出版社&quot;的图书信息</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> es_book <span class="keyword">as</span> eb </span><br><span class="line"><span class="keyword">WHERE</span> eb.publisher<span class="operator">=</span><span class="string">&#x27;上海文艺出版社&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p>5）查询图书表中图书作者为”briup”并且库存数量大于0的图书名称和库存数量</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中图书作者为&quot;briup&quot;并且库存数量大于0的图书名称和库存数量</span></span><br><span class="line"><span class="keyword">SELECT</span> eb.`name`,eb.store_num</span><br><span class="line"><span class="keyword">FROM</span> es_book <span class="keyword">as</span> eb </span><br><span class="line"><span class="keyword">WHERE</span> eb.author<span class="operator">=</span><span class="string">&#x27;briup&#x27;</span> <span class="keyword">AND</span> eb.store_num<span class="operator">&gt;</span><span class="number">0</span>;</span><br></pre></td></tr></table></figure>



<p>6）查询图书表中库存数量为空（NULL）的图书名称。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中库存数量为空（NULL）的图书名称。</span></span><br><span class="line"><span class="keyword">SELECT</span> eb.`name`</span><br><span class="line"><span class="keyword">FROM</span> es_book <span class="keyword">as</span> eb</span><br><span class="line"><span class="keyword">WHERE</span> eb.store_num <span class="keyword">is</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>



<p>7）查询图书表中名称包含关键字”入门”的图书名称和作者。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中名称包含关键字&quot;入门&quot;的图书名称和作者。</span></span><br><span class="line"><span class="keyword">SELECT</span> eb.`name`,eb.author</span><br><span class="line"><span class="keyword">FROM</span> es_book <span class="keyword">as</span> eb</span><br><span class="line"><span class="keyword">WHERE</span> eb.`name` <span class="keyword">LIKE</span> <span class="string">&#x27;%入门%&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p>8）查询图书表中图书出版社在”机械工业出版社”或”北京教育出版社”的图书名称和作者</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中图书出版社在&quot;机械工业出版社&quot;或&quot;北京教育出版社&quot;的图书名称和作者</span></span><br><span class="line"><span class="keyword">SELECT</span> eb.`name`,eb.author</span><br><span class="line"><span class="keyword">FROM</span> es_book <span class="keyword">as</span> eb</span><br><span class="line"><span class="keyword">WHERE</span> eb.publisher <span class="keyword">IN</span> (<span class="string">&#x27;机械工业出版社&#x27;</span>,<span class="string">&#x27;北京教育出版社&#x27;</span>);</span><br></pre></td></tr></table></figure>





<h2 id="运算与分页"><a href="#运算与分页" class="headerlink" title="运算与分页"></a>运算与分页</h2><h3 id="1、根据上述表及数据完成下列操作"><a href="#1、根据上述表及数据完成下列操作" class="headerlink" title="1、根据上述表及数据完成下列操作"></a><strong>1、根据上述表及数据完成下列操作</strong></h3><p>1）查询图书表中售价最高的图书名称、作者和售价。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中售价最高的图书名称、作者和售价。</span></span><br><span class="line"><span class="keyword">SELECT</span> name,author,price</span><br><span class="line"><span class="keyword">FROM</span> es_book</span><br><span class="line"><span class="keyword">WHERE</span> price<span class="operator">=</span>(<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(price)<span class="keyword">FROM</span> es_book);</span><br></pre></td></tr></table></figure>



<p>2）查询图书表中库存数量为空或售价为零的图书名称和作者。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中库存数量为空或售价为零的图书名称和作者。</span></span><br><span class="line"><span class="keyword">SELECT</span> name,author,price</span><br><span class="line"><span class="keyword">FROM</span> es_book</span><br><span class="line"><span class="keyword">WHERE</span> store_num <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">OR</span> price <span class="operator">=</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>



<p>3）查询图书表图书名称和作者，并且以作者升序排序，作者相同则按照书名降序排序。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表图书名称和作者，并且以作者升序排序，作者相同则按照书名降序排序。</span></span><br><span class="line"><span class="keyword">SELECT</span> name,author</span><br><span class="line"><span class="keyword">FROM</span> es_book</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> author <span class="keyword">ASC</span>,`name`<span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>



<p>4）查询图书表中价格最高的前3本图书的名称和作者</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中价格最高的前3本图书的名称和作者</span></span><br><span class="line"><span class="keyword">SELECT</span> name,author</span><br><span class="line"><span class="keyword">FROM</span> es_book</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> price <span class="keyword">DESC</span></span><br><span class="line">LIMIT <span class="number">0</span>,<span class="number">3</span>;</span><br></pre></td></tr></table></figure>



<p>5）查询图书表中第2页的图书名称和作者，每页显示2条记录，按照图书ID进行升序排序。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书表中第2页的图书名称和作者，每页显示2条记录，按照图书ID进行升序排序</span></span><br><span class="line"><span class="keyword">SELECT</span> name,author</span><br><span class="line"><span class="keyword">FROM</span> es_book</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> id </span><br><span class="line">LIMIT <span class="number">2</span>,<span class="number">2</span>;</span><br></pre></td></tr></table></figure>



<h3 id="2、请执行以下sql语句，完成下列要求"><a href="#2、请执行以下sql语句，完成下列要求" class="headerlink" title="2、请执行以下sql语句，完成下列要求"></a><strong>2、请执行以下sql语句，完成下列要求</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">-- 新建数据库,并切换数据库</span><br><span class="line">CREATE DATABASE test;</span><br><span class="line">USE test;</span><br><span class="line"></span><br><span class="line">-- 建表</span><br><span class="line">CREATE TABLE student_scores (</span><br><span class="line">  id INT PRIMARY KEY,</span><br><span class="line">  name VARCHAR(50) NOT NULL,</span><br><span class="line">  math_score INT,</span><br><span class="line">  physics_score INT,</span><br><span class="line">  chemistry_score INT</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 插入数据</span><br><span class="line">INSERT INTO student_scores (id, name, math_score, physics_score, chemistry_score)</span><br><span class="line">VALUES</span><br><span class="line">  (1, &#x27;Alice&#x27;, 85, 90, 92),</span><br><span class="line">  (2, &#x27;Bob&#x27;, 78, 85, 80),</span><br><span class="line">  (3, &#x27;Charlie&#x27;, NULL, 88, 95),</span><br><span class="line">  (4, &#x27;David&#x27;, 75, 82, 78),</span><br><span class="line">  (5, &#x27;Emma&#x27;, 90, 92, 88),</span><br><span class="line">  (6, &#x27;Frank&#x27;, 85, NULL, 86),</span><br><span class="line">  (7, &#x27;Grace&#x27;, 95, 88, 90),</span><br><span class="line">  (8, &#x27;Henry&#x27;, 78, 85, 80),</span><br><span class="line">  (9, &#x27;Ivy&#x27;, 92, 90, 95),</span><br><span class="line">  (10, &#x27;Jack&#x27;, 82, 78, NULL);</span><br></pre></td></tr></table></figure>

<p>数据字典：</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束类型</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>INT</td>
<td>PRIMARY KEY</td>
<td>主键</td>
</tr>
<tr>
<td>student_name</td>
<td>VARCHAR(50)</td>
<td>NOT NULL</td>
<td>学生姓名</td>
</tr>
<tr>
<td>math_score</td>
<td>INT</td>
<td></td>
<td>数学成绩</td>
</tr>
<tr>
<td>physics_score</td>
<td>INT</td>
<td></td>
<td>物理成绩</td>
</tr>
<tr>
<td>chemistry_score</td>
<td>INT</td>
<td></td>
<td>化学成绩</td>
</tr>
</tbody></table>
<p>1）查询所有学生的总成绩，如果某门成绩为 NULL，则将其视为 0</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询所有学生的总成绩，如果某门成绩为 NULL，则将其视为 0</span></span><br><span class="line">	<span class="comment">-- 如果某门成绩为 NULL，则将其视为 0，可以使用 COALESCE 函数来实现。COALESCE 函数返回参数列表中的第一个非 NULL 值。</span></span><br><span class="line">	<span class="keyword">SELECT</span> id, <span class="built_in">COALESCE</span>(math_score, <span class="number">0</span>) <span class="keyword">AS</span> math_score,<span class="built_in">COALESCE</span>(physics_score, <span class="number">0</span>) <span class="keyword">AS</span> physics_score,<span class="built_in">COALESCE</span>(chemistry_score, <span class="number">0</span>) <span class="keyword">AS</span> chemistry_score</span><br><span class="line">	<span class="keyword">FROM</span> student_scores;</span><br><span class="line">	</span><br><span class="line"><span class="comment">-- 2</span></span><br><span class="line">	<span class="keyword">SELECT</span> id, IFNULL(math_score, <span class="number">0</span>) <span class="keyword">AS</span> math_score,IFNULL(physics_score, <span class="number">0</span>) <span class="keyword">AS</span> physics_score,IFNULL(chemistry_score, <span class="number">0</span>) <span class="keyword">AS</span> chemistry_score</span><br><span class="line">	<span class="keyword">FROM</span> student_scores;</span><br></pre></td></tr></table></figure>



<p>2）查询数学成绩大于等于90分的学生姓名和数学成绩</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询数学成绩大于等于90分的学生姓名和数学成绩</span></span><br><span class="line">	<span class="keyword">SELECT</span> stu_name,math_score</span><br><span class="line">	<span class="keyword">FROM</span> student_scores</span><br><span class="line">	<span class="keyword">WHERE</span> math_score<span class="operator">&gt;=</span><span class="number">90</span>;</span><br></pre></td></tr></table></figure>



<p>3）查询物理成绩为空或化学成绩小于80分的学生姓名和对应科目的成绩</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询物理成绩为空或化学成绩小于80分的学生姓名和对应科目的成绩</span></span><br><span class="line">	<span class="keyword">SELECT</span> stu_name,<span class="built_in">COALESCE</span>(physics_score, <span class="number">0</span>) <span class="keyword">AS</span> physics_score,chemistry_score</span><br><span class="line">	<span class="keyword">FROM</span> student_scores</span><br><span class="line">	<span class="keyword">WHERE</span> physics_score <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">OR</span> chemistry_score<span class="operator">&lt;</span><span class="number">80</span>;</span><br></pre></td></tr></table></figure>



<p>4）查询平均成绩大于等于85分的学生姓名和平均成绩，如果某门成绩为 NULL，则将其视为 0</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询平均成绩大于等于85分的学生姓名和平均成绩，如果某门成绩为 NULL，则将其视为 0</span></span><br><span class="line"><span class="comment">-- 1</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	stu_name,</span><br><span class="line">	<span class="built_in">COALESCE</span>((<span class="built_in">COALESCE</span>(math_score, <span class="number">0</span>) <span class="operator">+</span> <span class="built_in">COALESCE</span>(physics_score, <span class="number">0</span>) <span class="operator">+</span> <span class="built_in">COALESCE</span>(chemistry_score, <span class="number">0</span>)) <span class="operator">/</span> </span><br><span class="line">						<span class="number">3</span>, <span class="number">0</span>) <span class="keyword">AS</span> average_score</span><br><span class="line"><span class="keyword">FROM</span> student_scores</span><br><span class="line"><span class="comment">-- 使用HAVING子句筛选出平均分数大于等于85分的学生</span></span><br><span class="line"><span class="keyword">HAVING</span> average_score <span class="operator">&gt;=</span> <span class="number">85</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2</span></span><br><span class="line"><span class="comment">--IF(math_score IS NOT NULL, 1, 0) 的作用是检查 math_score 列的值是否为NULL。如果是NULL，则返回0；如果不是NULL，则返回1。</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	stu_name,</span><br><span class="line">	IFNULL((IFNULL(math_score, <span class="number">0</span>) <span class="operator">+</span> IFNULL(physics_score, <span class="number">0</span>) <span class="operator">+</span> IFNULL(chemistry_score, <span class="number">0</span>)) <span class="operator">/</span> </span><br><span class="line">						<span class="number">3</span>, <span class="number">0</span>) <span class="keyword">AS</span> average_score</span><br><span class="line"><span class="keyword">FROM</span> student_scores</span><br><span class="line"><span class="keyword">HAVING</span> average_score <span class="operator">&gt;=</span> <span class="number">85</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 3</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	stu_name,</span><br><span class="line">	IFNULL((IFNULL(math_score, <span class="number">0</span>) <span class="operator">+</span> IFNULL(physics_score, <span class="number">0</span>) <span class="operator">+</span> IFNULL(chemistry_score, <span class="number">0</span>)) <span class="operator">/</span> </span><br><span class="line">						(IF(math_score <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>, <span class="number">1</span>, <span class="number">0</span>) <span class="operator">+</span> IF(physics_score <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>, <span class="number">1</span>, <span class="number">0</span>) <span class="operator">+</span> IF(chemistry_score <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>, <span class="number">1</span>, <span class="number">0</span>)), <span class="number">0</span>) <span class="keyword">AS</span> average_score</span><br><span class="line"><span class="keyword">FROM</span> student_scores</span><br><span class="line"><span class="keyword">HAVING</span> average_score <span class="operator">&gt;=</span> <span class="number">85</span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>5）查询总分最高的学生信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询总分最高的学生信息</span></span><br><span class="line"><span class="comment">-- 1</span></span><br><span class="line">	<span class="keyword">SELECT</span> id, stu_name, </span><br><span class="line">				math_score,physics_score,chemistry_score,</span><br><span class="line">				IFNULL((IFNULL(math_score, <span class="number">0</span>) <span class="operator">+</span> IFNULL(physics_score, <span class="number">0</span>) <span class="operator">+</span> IFNULL(chemistry_score, <span class="number">0</span>)),<span class="number">0</span>) <span class="keyword">AS</span> total_score</span><br><span class="line">	<span class="keyword">FROM</span> student_scores</span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span> total_score <span class="keyword">DESC</span></span><br><span class="line">	LIMIT <span class="number">0</span>,<span class="number">1</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2</span></span><br><span class="line">	<span class="keyword">SELECT</span> id, stu_name, </span><br><span class="line">				math_score,physics_score,chemistry_score,</span><br><span class="line">				<span class="built_in">COALESCE</span>((<span class="built_in">COALESCE</span>(math_score, <span class="number">0</span>) <span class="operator">+</span> <span class="built_in">COALESCE</span>(physics_score, <span class="number">0</span>) <span class="operator">+</span> <span class="built_in">COALESCE</span>(chemistry_score, <span class="number">0</span>)),<span class="number">0</span>) <span class="keyword">AS</span> total_score</span><br><span class="line">	<span class="keyword">FROM</span> student_scores</span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span> total_score <span class="keyword">DESC</span></span><br><span class="line">	LIMIT <span class="number">0</span>,<span class="number">1</span>; </span><br></pre></td></tr></table></figure>





<h2 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h2><blockquote>
<p>请已有的estore数据库中执行下列sql语句：</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 添加10条数据到es_address表</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> es_address (id, receiver_name, urban_addr, detail_addr, phone, user_id)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">  (<span class="number">6</span>, <span class="string">&#x27;赵&#x27;</span>, <span class="string">&#x27;江苏省南京市鼓楼区&#x27;</span>, <span class="string">&#x27;中山南路123号&#x27;</span>, <span class="string">&#x27;13800010006&#x27;</span>, <span class="number">3</span>),</span><br><span class="line">  (<span class="number">7</span>, <span class="string">&#x27;王五&#x27;</span>, <span class="string">&#x27;江苏省苏州市相城区&#x27;</span>, <span class="string">&#x27;太湖大道999号&#x27;</span>, <span class="string">&#x27;13800010007&#x27;</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="number">8</span>, <span class="string">&#x27;刘六&#x27;</span>, <span class="string">&#x27;广东省深圳市南山区&#x27;</span>, <span class="string">&#x27;科技园大道123号&#x27;</span>, <span class="string">&#x27;13800010008&#x27;</span>, <span class="number">4</span>),</span><br><span class="line">  (<span class="number">9</span>, <span class="string">&#x27;陈七&#x27;</span>, <span class="string">&#x27;北京市朝阳区&#x27;</span>, <span class="string">&#x27;建国路123号&#x27;</span>, <span class="string">&#x27;13800010009&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="number">10</span>, <span class="string">&#x27;杨八&#x27;</span>, <span class="string">&#x27;浙江省杭州市西湖区&#x27;</span>, <span class="string">&#x27;文二路888号&#x27;</span>, <span class="string">&#x27;13800010010&#x27;</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改数据</span></span><br><span class="line"><span class="keyword">update</span> es_book <span class="keyword">set</span> store_num <span class="operator">=</span> <span class="number">100</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加10条数据到es_book表</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> es_book (id, name, cover, description, author, publisher, price, store_num, status, category_id)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">  (<span class="number">7</span>, <span class="string">&#x27;C++ Primer&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;C++语言入门教程&#x27;</span>, <span class="string">&#x27;Stanley B. Lippman&#x27;</span>, <span class="string">&#x27;机械工业出版社&#x27;</span>, <span class="number">49.90</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">5</span>),</span><br><span class="line">  (<span class="number">8</span>, <span class="string">&#x27;JavaScript高级程序设计&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;JavaScript编程指南&#x27;</span>, <span class="string">&#x27;Nicholas C. Zakas&#x27;</span>, <span class="string">&#x27;机械工业出版社&#x27;</span>, <span class="number">59.90</span>, <span class="number">200</span>, <span class="number">0</span>, <span class="number">5</span>),</span><br><span class="line">  (<span class="number">9</span>, <span class="string">&#x27;数据结构与算法&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;数据结构与算法入门&#x27;</span>, <span class="string">&#x27;Thomas H. Cormen&#x27;</span>, <span class="string">&#x27;机械工业出版社&#x27;</span>, <span class="number">39.90</span>, <span class="number">150</span>, <span class="number">0</span>, <span class="number">7</span>),</span><br><span class="line">  (<span class="number">10</span>, <span class="string">&#x27;红楼梦&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;中国古代四大名著之一&#x27;</span>, <span class="string">&#x27;曹雪芹&#x27;</span>, <span class="string">&#x27;上海文艺出版社&#x27;</span>, <span class="number">42.90</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="number">11</span>, <span class="string">&#x27;西游记&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;中国古代四大名著之一&#x27;</span>, <span class="string">&#x27;吴承恩&#x27;</span>, <span class="string">&#x27;上海文艺出版社&#x27;</span>, <span class="number">42.90</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="number">12</span>, <span class="string">&#x27;三国演义&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;中国古代四大名著之一&#x27;</span>, <span class="string">&#x27;罗贯中&#x27;</span>, <span class="string">&#x27;上海文艺出版社&#x27;</span>, <span class="number">42.90</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="number">13</span>, <span class="string">&#x27;数据挖掘导论&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;数据挖掘入门教程&#x27;</span>, <span class="string">&#x27;Jiawei Han&#x27;</span>, <span class="string">&#x27;机械工业出版社&#x27;</span>, <span class="number">49.90</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">7</span>),</span><br><span class="line">  (<span class="number">14</span>, <span class="string">&#x27;计算机网络&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;计算机网络基础知识&#x27;</span>, <span class="string">&#x27;Andrew S. Tanenbaum&#x27;</span>, <span class="string">&#x27;机械工业出版社&#x27;</span>, <span class="number">39.90</span>, <span class="number">150</span>, <span class="number">0</span>, <span class="number">5</span>),</span><br><span class="line">  (<span class="number">15</span>, <span class="string">&#x27;论语&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;中国古代经典著作&#x27;</span>, <span class="string">&#x27;孔子&#x27;</span>, <span class="string">&#x27;北京教育出版社&#x27;</span>, <span class="number">19.90</span>, <span class="number">200</span>, <span class="number">0</span>, <span class="number">8</span>),</span><br><span class="line">  (<span class="number">16</span>, <span class="string">&#x27;大学语文&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;大学语文课程教材&#x27;</span>, <span class="string">&#x27;佚名&#x27;</span>, <span class="string">&#x27;北京教育出版社&#x27;</span>, <span class="number">29.90</span>, <span class="number">150</span>, <span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 添加10条数据到es_category表</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> es_category (id, name, description, parent_id)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">  (<span class="number">9</span>, <span class="string">&#x27;经济学&#x27;</span>, <span class="string">&#x27;经济学大类&#x27;</span>, <span class="keyword">NULL</span>),</span><br><span class="line">  (<span class="number">10</span>, <span class="string">&#x27;金融学&#x27;</span>, <span class="string">&#x27;经济学子类1&#x27;</span>, <span class="number">9</span>),</span><br><span class="line">  (<span class="number">11</span>, <span class="string">&#x27;管理学&#x27;</span>, <span class="string">&#x27;经济学子类2&#x27;</span>, <span class="number">9</span>),</span><br><span class="line">  (<span class="number">12</span>, <span class="string">&#x27;法学&#x27;</span>, <span class="string">&#x27;法学大类&#x27;</span>, <span class="keyword">NULL</span>),</span><br><span class="line">  (<span class="number">13</span>, <span class="string">&#x27;刑法学&#x27;</span>, <span class="string">&#x27;法学子类1&#x27;</span>, <span class="number">12</span>),</span><br><span class="line">  (<span class="number">14</span>, <span class="string">&#x27;民法学&#x27;</span>, <span class="string">&#x27;法学子类2&#x27;</span>, <span class="number">12</span>),</span><br><span class="line">  (<span class="number">15</span>, <span class="string">&#x27;外国语&#x27;</span>, <span class="string">&#x27;外语大类&#x27;</span>, <span class="keyword">NULL</span>),</span><br><span class="line">  (<span class="number">16</span>, <span class="string">&#x27;英语&#x27;</span>, <span class="string">&#x27;外语子类1&#x27;</span>, <span class="number">15</span>),</span><br><span class="line">  (<span class="number">17</span>, <span class="string">&#x27;法语&#x27;</span>, <span class="string">&#x27;外语子类2&#x27;</span>, <span class="number">15</span>),</span><br><span class="line">  (<span class="number">18</span>, <span class="string">&#x27;心理学&#x27;</span>, <span class="string">&#x27;心理学大类&#x27;</span>, <span class="keyword">NULL</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加11条数据到es_shopcar表</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> es_shopcar (id, user_id, book_id, num)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">  (<span class="number">7</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="number">8</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="number">9</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="number">10</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="number">11</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="number">12</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>),</span><br><span class="line">  (<span class="number">13</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="number">14</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>),</span><br><span class="line">  (<span class="number">15</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="number">16</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">1</span>),</span><br><span class="line">  (<span class="number">17</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">1</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="1、请根据上述表与数据完成下列操作"><a href="#1、请根据上述表与数据完成下列操作" class="headerlink" title="1、请根据上述表与数据完成下列操作"></a><strong>1、请根据上述表与数据完成下列操作</strong></h3><p>1）查询所有图书分类及其父分类名称</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询所有图书分类及其父分类名称、</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	eb.`name`,</span><br><span class="line">	ec.`name`,</span><br><span class="line">	ec.description </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	es_book <span class="keyword">AS</span> eb,</span><br><span class="line">	es_category <span class="keyword">AS</span> ec </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	eb.category_id <span class="operator">=</span> ec.id;</span><br></pre></td></tr></table></figure>



<p>2） 查询图书分类为 “小说” 的图书名称、价格和出版社</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询图书分类为 &quot;小说&quot; 的图书名称、价格和出版社</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	eb.`name`,</span><br><span class="line">	eb.price,</span><br><span class="line">	eb.publisher </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	es_book <span class="keyword">AS</span> eb,</span><br><span class="line">	es_category <span class="keyword">AS</span> ec </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	eb.category_id <span class="operator">=</span> ec.id </span><br><span class="line">	<span class="keyword">AND</span> ec.`name` <span class="operator">=</span> <span class="string">&#x27;小说&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p>3） 查询下单客户ID为 4 的收货地址和购物车中的图书名称。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询下单客户ID为 4 的收货地址和购物车中的图书名称。</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	ea.urban_addr,</span><br><span class="line">	ea.detail_addr,</span><br><span class="line">	eb.`name` </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	es_address <span class="keyword">AS</span> ea,</span><br><span class="line">	es_shopcar <span class="keyword">AS</span> esh,</span><br><span class="line">	es_book <span class="keyword">AS</span> eb </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	ea.user_id <span class="operator">=</span> <span class="number">4</span> </span><br><span class="line">	<span class="keyword">AND</span> ea.user_id <span class="operator">=</span> esh.user_id </span><br><span class="line">	<span class="keyword">AND</span> esh.book_id <span class="operator">=</span> eb.id;</span><br></pre></td></tr></table></figure>



<p>4）查询每个用户的用户名和购物车中购买的图书名称，如果没有购物车记录，则显示图书名称为 NULL</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询每个用户的用户名和购物车中购买的图书名称，如果没有购物车记录，则显示图书名称为 NULL</span></span><br><span class="line"><span class="comment">-- es_user AS eu , es_shopcar AS esh , es_book AS eb,es_address AS ea,es_category AS ec</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> eu.username, eb.`name`</span><br><span class="line"><span class="keyword">FROM</span> es_user <span class="keyword">AS</span> eu</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> es_shopcar <span class="keyword">AS</span> esh <span class="keyword">ON</span> eu.id <span class="operator">=</span> esh.user_id</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> es_book <span class="keyword">AS</span> eb <span class="keyword">ON</span> esh.book_id <span class="operator">=</span> eb.id</span><br></pre></td></tr></table></figure>



<p>5）查询购物车中购买图书数量大于等于2本的用户及其购买的图书名称和购买数量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-- 查询购物车中购买图书数量大于等于2本的用户及其购买的图书名称和购买数量</span><br><span class="line">SELECT</span><br><span class="line">	eu.username,</span><br><span class="line">	eb.`name`,</span><br><span class="line">	esh.num </span><br><span class="line">FROM</span><br><span class="line">	es_user AS eu,</span><br><span class="line">	es_shopcar AS esh,</span><br><span class="line">	es_book AS eb </span><br><span class="line">WHERE</span><br><span class="line">	esh.num &gt;= 2 </span><br><span class="line">	AND esh.user_id = eu.id </span><br><span class="line">	AND esh.book_id = eb.id;</span><br></pre></td></tr></table></figure>



<p>6）查询购物车中购买图书价格大于等于50的用户及其购买的图书名称和图书价格</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询购物车中购买图书价格大于等于50的用户及其购买的图书名称和图书价格</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	eu.username,</span><br><span class="line">	eb.`name`,</span><br><span class="line">	eb.price </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	es_user <span class="keyword">AS</span> eu,</span><br><span class="line">	es_shopcar <span class="keyword">AS</span> esh,</span><br><span class="line">	es_book <span class="keyword">AS</span> eb </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	esh.book_id <span class="operator">=</span> eb.id </span><br><span class="line">	<span class="keyword">AND</span> eb.price <span class="operator">&gt;=</span> <span class="number">50</span> </span><br><span class="line">	<span class="keyword">AND</span> esh.user_id <span class="operator">=</span> eu.id;</span><br></pre></td></tr></table></figure>



<p>7）查询购物车中有图书的用户的用户姓名、收货人姓名、城市地址和详细地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- 查询购物车中有图书的用户的用户姓名、收货人姓名、城市地址和详细地址(为了更好的区分,自己加了书名</span><br><span class="line">SELECT</span><br><span class="line">	eu.username,</span><br><span class="line">	eb.`name`,</span><br><span class="line">	ea.receiver_name,</span><br><span class="line">	ea.urban_addr,</span><br><span class="line">	ea.detail_addr </span><br><span class="line">FROM</span><br><span class="line">	es_user AS eu,</span><br><span class="line">	es_shopcar AS esh,</span><br><span class="line">	es_address AS ea,</span><br><span class="line">	es_book AS eb </span><br><span class="line">WHERE</span><br><span class="line">	esh.num &gt; 0 </span><br><span class="line">	AND esh.user_id = eu.id </span><br><span class="line">	AND eu.id = ea.user_id </span><br><span class="line">	AND esh.book_id = eb.id;</span><br></pre></td></tr></table></figure>



<p>8）请列出购买了价格大于50的图书的用户的收货人姓名、城市地址和电话号码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-- 请列出购买了价格大于50的图书的用户的收货人姓名、城市地址和电话号码</span><br><span class="line">SELECT</span><br><span class="line">	ea.receiver_name,</span><br><span class="line">	ea.urban_addr,</span><br><span class="line">	ea.phone </span><br><span class="line">FROM</span><br><span class="line">	es_shopcar AS esh,</span><br><span class="line">	es_address AS ea,</span><br><span class="line">	es_book AS eb </span><br><span class="line">WHERE</span><br><span class="line">	esh.book_id = eb.id </span><br><span class="line">	AND eb.price &gt; 50 </span><br><span class="line">	AND esh.user_id = ea.user_id;</span><br></pre></td></tr></table></figure>



<p>9）查询购买了属于“诗歌”类别的图书的用户的收货人姓名和电话号码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-- 查询购买了属于“诗歌”类别的图书的用户的收货人姓名和电话号码</span><br><span class="line">SELECT</span><br><span class="line">	ea.receiver_name,</span><br><span class="line">	ea.phone </span><br><span class="line">FROM</span><br><span class="line">	es_shopcar AS esh,</span><br><span class="line">	es_address AS ea,</span><br><span class="line">	es_book AS eb,</span><br><span class="line">	es_category AS ec </span><br><span class="line">WHERE</span><br><span class="line">	esh.book_id = eb.id </span><br><span class="line">	AND eb.category_id = ec.id </span><br><span class="line">	AND ec.`name` = &#x27;诗歌&#x27; </span><br><span class="line">	AND esh.user_id = ea.user_id;</span><br></pre></td></tr></table></figure>





<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="1、请根据上述表和数据完成下列操作"><a href="#1、请根据上述表和数据完成下列操作" class="headerlink" title="1、请根据上述表和数据完成下列操作"></a>1、请根据上述表和数据完成下列操作</h3><p>1）查询每个用户的注册时间，并将时间转换为年月日格式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>2）查询每本图书的名称和描述，同时将描述截断为前50个字符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>3）查询每个图书的价格，同时将价格取整并添加人民币的货币符号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>4）查询每个用户的购物车中的图书总数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>5）查询购物车中购买图书数量大于等于5本的用户ID和图书数量，如果用户购买图书总数大于等于5本显示“满足条件”，否则显示“不满足条件”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>6）查询id为1的用户的购物车中图书的总价值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>7）查询购物车中购买图书的总金额，同时显示“满100元免运费”或“不满足条件”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>8）请查询出所有书籍的销售情况，统计展示其类别，根据销售数据显示为畅销、一般、滞销三个等级（销量低于2为滞销，不低于2但低于5为一般，不低于5为畅销）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>9）查询每个用户的购物车中图书的平均价格</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>10）查询购物车中被购买次数最多的图书,显示购买用户和对应的图书信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>11）查询每个图书分类下的图书数量和总价格，并按数量降序排序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>12）查询每个图书分类下价格最低的图书名称和价格,没有图书的分类不展示,查询到的结果按照分类id升序排序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">-- 函数</span><br><span class="line">SELECT CURRENT_DATE</span><br><span class="line">	(),</span><br><span class="line">	CURDATE(),</span><br><span class="line">	NOW(),</span><br><span class="line">	CURRENT_TIME (),</span><br><span class="line">	CURRENT_TIMESTAMP (),</span><br><span class="line">	UTC_DATE (),</span><br><span class="line">	UTC_TIME (),</span><br><span class="line">	WEEKDAY(</span><br><span class="line">	NOW());</span><br><span class="line">SELECT</span><br><span class="line">	ADDDATE( NOW(), INTERVAL 1 DAY );</span><br><span class="line">SELECT</span><br><span class="line">	DATE_FORMAT( NOW(), &#x27;%Y-%M-%D&#x27; );-- 查询每个用户的注册时间，并将时间转换为年月日格式</span><br><span class="line">SELECT</span><br><span class="line">	DATE_FORMAT( eu.register_time, &#x27;%y-%m-%d&#x27; ) AS register_time </span><br><span class="line">FROM</span><br><span class="line">	es_user AS eu;-- 查询每本图书的名称和描述，同时将描述截断为前50个字符</span><br><span class="line">SELECT</span><br><span class="line">	eb.`name`,</span><br><span class="line">	LEFT ( eb.description, 50 ) AS description </span><br><span class="line">FROM</span><br><span class="line">	es_book AS eb;-- 查询每个图书的价格，同时将价格取整并添加人民币的货币符号</span><br><span class="line">SELECT</span><br><span class="line">	CONCAT(</span><br><span class="line">		&#x27;￥&#x27;,</span><br><span class="line">	ROUND( eb.price )) AS price </span><br><span class="line">FROM</span><br><span class="line">	es_book AS eb;-- 查询每个用户的购物车中的图书总数</span><br><span class="line">SELECT</span><br><span class="line">	SUM( esh.num ) AS num,</span><br><span class="line">	esh.user_id </span><br><span class="line">FROM</span><br><span class="line">	es_shopcar AS esh </span><br><span class="line">GROUP BY</span><br><span class="line">	esh.user_id;-- 查询购物车中购买图书数量大于等于5本的用户ID和图书数量，如果用户购买图书总数大于等于5本显示“满足条件”，否则显示“不满足条件”</span><br><span class="line">SELECT</span><br><span class="line">	esh.user_id,</span><br><span class="line">	SUM( esh.num ),</span><br><span class="line">CASE</span><br><span class="line">		</span><br><span class="line">		WHEN SUM( esh.num )&gt; 5 THEN</span><br><span class="line">		&#x27;满足条件&#x27; ELSE &#x27;不满足条件&#x27; </span><br><span class="line">	END AS text </span><br><span class="line">FROM</span><br><span class="line">	es_shopcar AS esh </span><br><span class="line">GROUP BY</span><br><span class="line">	esh.user_id;-- 查询id为1的用户的购物车中图书的总价值</span><br><span class="line">SELECT</span><br><span class="line">	SUM( esh.num * eb.price ) AS price </span><br><span class="line">FROM</span><br><span class="line">	es_shopcar AS esh</span><br><span class="line">	INNER JOIN es_book AS eb ON esh.user_id = 1 </span><br><span class="line">	AND esh.book_id = eb.id;</span><br><span class="line">	</span><br><span class="line">	-- 查询购物车中购买图书的总金额，同时显示“满100元免运费”或“不满足条件”</span><br><span class="line">SELECT</span><br><span class="line">	SUM( esh.num * eb.price ) AS total_price,</span><br><span class="line">CASE</span><br><span class="line">		</span><br><span class="line">		WHEN SUM( esh.num * eb.price )&lt; 100 THEN</span><br><span class="line">		&#x27;不满足条件&#x27; ELSE &#x27;满100元免运费&#x27; </span><br><span class="line">	END AS text </span><br><span class="line">	FROM-- 内连接</span><br><span class="line">	es_shopcar AS esh</span><br><span class="line">	INNER JOIN es_book AS eb ON esh.book_id = eb.id </span><br><span class="line">GROUP BY</span><br><span class="line">	esh.user_id;-- 请查询出所有书籍的销售情况，统计展示其类别，根据销售数据显示为畅销、一般、滞销三个等级（销量低于2为滞销，不低于2但低于5为一般，不低于5为畅销）</span><br><span class="line">SELECT</span><br><span class="line">	ec.`name`,</span><br><span class="line">	SUM( esh.num ) AS num,</span><br><span class="line">CASE</span><br><span class="line">		</span><br><span class="line">		WHEN SUM( esh.num )&lt; 2 THEN</span><br><span class="line">		&#x27;滞销&#x27; </span><br><span class="line">		WHEN SUM( esh.num )&gt; 5 THEN</span><br><span class="line">		&#x27;畅销&#x27; ELSE &#x27;一般&#x27; </span><br><span class="line">	END AS text </span><br><span class="line">FROM</span><br><span class="line">	es_shopcar AS esh</span><br><span class="line">	INNER JOIN es_book AS eb ON esh.book_id = eb.id</span><br><span class="line">	INNER JOIN es_category AS ec ON ec.id = eb.category_id </span><br><span class="line">GROUP BY</span><br><span class="line">	ec.`name`;-- 查询每个用户的购物车中图书的平均价格</span><br><span class="line">SELECT</span><br><span class="line">	SUM( esh.num * eb.price )/ SUM( esh.num ) AS avg_price </span><br><span class="line">	FROM-- 内连接</span><br><span class="line">	es_shopcar AS esh</span><br><span class="line">	INNER JOIN es_book AS eb ON esh.book_id = eb.id </span><br><span class="line">GROUP BY</span><br><span class="line">	esh.user_id;</span><br><span class="line">	</span><br><span class="line">	-- 查询购物车中被购买次数最多的图书,显示购买用户和对应的图书信息</span><br><span class="line">SELECT</span><br><span class="line">	eu.username,</span><br><span class="line">	eb.* </span><br><span class="line">FROM</span><br><span class="line">	es_book AS eb,</span><br><span class="line">	es_shopcar AS esh,</span><br><span class="line">	es_user AS eu </span><br><span class="line">WHERE</span><br><span class="line">	eb.id =(</span><br><span class="line">	SELECT</span><br><span class="line">		book_id </span><br><span class="line">	FROM</span><br><span class="line">		(</span><br><span class="line">		SELECT</span><br><span class="line">			esh.book_id,</span><br><span class="line">			SUM( esh.num ) AS max_counts </span><br><span class="line">		FROM</span><br><span class="line">			es_shopcar AS esh </span><br><span class="line">		GROUP BY</span><br><span class="line">			esh.book_id </span><br><span class="line">		ORDER BY</span><br><span class="line">			SUM( esh.num ) DESC </span><br><span class="line">			LIMIT 1 </span><br><span class="line">		) AS max_book </span><br><span class="line">	) </span><br><span class="line">	AND eb.id = esh.book_id </span><br><span class="line">	AND esh.user_id = eu.id </span><br><span class="line">	</span><br><span class="line">	-- 2</span><br><span class="line">SELECT</span><br><span class="line">	eb.*,</span><br><span class="line">	total </span><br><span class="line">FROM</span><br><span class="line">	(</span><br><span class="line">	SELECT</span><br><span class="line">		esh.book_id AS book_id,</span><br><span class="line">		SUM( esh.num ) AS total </span><br><span class="line">	FROM</span><br><span class="line">		es_shopcar AS esh </span><br><span class="line">	GROUP BY</span><br><span class="line">		esh.book_id </span><br><span class="line">	ORDER BY</span><br><span class="line">		total DESC </span><br><span class="line">		LIMIT 1 </span><br><span class="line">	) AS total_book</span><br><span class="line">	INNER JOIN es_book AS eb ON total_book.book_id = eb.id -- limit 1;</span><br><span class="line"></span><br><span class="line">-- 查询每个图书分类下的图书数量和总价格，并按数量降序排序</span><br><span class="line">SELECT</span><br><span class="line">	ec.`name`,</span><br><span class="line">	COUNT(*) AS total_count,</span><br><span class="line">	SUM( eb.price ) AS total_price </span><br><span class="line">FROM</span><br><span class="line">	es_book AS eb</span><br><span class="line">	INNER JOIN es_category AS ec ON ec.id = eb.category_id </span><br><span class="line">GROUP BY</span><br><span class="line">	ec.`name` </span><br><span class="line">ORDER BY</span><br><span class="line">	COUNT(*) DESC;</span><br><span class="line">	-- 查询每个图书分类下价格最低的图书名称和价格,没有图书的分类不展示,查询到的结果按照分类id升序排序</span><br><span class="line">	</span><br></pre></td></tr></table></figure>



<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><h3 id="1、请根据上述表和数据使用子查询完成下列操作"><a href="#1、请根据上述表和数据使用子查询完成下列操作" class="headerlink" title="1、请根据上述表和数据使用子查询完成下列操作"></a>1、请根据上述表和数据使用子查询完成下列操作</h3><p>1）查询购物车中图书价格大于平均价格的图书名称和价格</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>2）查询购物车中购买图书数量最多的用户信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>3）查询购物车中购买图书数量超过5本的用户信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>4）查询购物车中购买了属于“诗歌”类别的图书的用户信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>5）查询id为3的用户添加到购物车中的所有书籍的详细信息，包括书籍的名字、书籍的作者、书籍的描述、书籍的出版社以及书籍的价格</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>6）请查询和id为3的用户想要购买相同数量以及相同书籍的用户信息，同时显示该书籍的名字以及该书籍的购买数量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>7）请查询和2号用户同一天注册,并且性别相同的用户详细信息,性别展示为男和女</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>8）查询购物车中购买图书数量超过各用户购买图书的平均数量的用户信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>9）查询每个用户购物车中图书价格最高的图书信息（包括图书名称和价格）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>10）请查询出所有书籍的销售情况，统计展示其类别，根据销售数据显示为畅销、一般、滞销三个等级（销量低于2为滞销，不低于2但低于5为一般，不低于5为畅销）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-- 子查询</span><br><span class="line">-- 查询购物车中图书价格大于平均价格的图书名称和价格</span><br><span class="line"></span><br><span class="line">SELECT eb.`name`,eb.price</span><br><span class="line">FROM es_book AS eb</span><br><span class="line">WHERE eb.price &gt; </span><br><span class="line">( SELECT SUM(total.price)/SUM(total.num) AS avg_price</span><br><span class="line">	FROM (</span><br><span class="line">				SELECT SUM(esh.num*eb.price) AS price,SUM(esh.num) AS num</span><br><span class="line">				FROM es_shopcar AS esh,es_book AS eb </span><br><span class="line">				WHERE esh.book_id = eb.id</span><br><span class="line">				GROUP BY esh.book_id) as total);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 查询购物车中购买图书数量最多的用户信息</span><br><span class="line"></span><br><span class="line">SELECT*</span><br><span class="line">FROM es_user AS eu,</span><br><span class="line">	(</span><br><span class="line">	SELECT max_counts.user_id AS user_id</span><br><span class="line">	FROM(</span><br><span class="line">		SELECT esh.user_id AS user_id,SUM(esh.num) AS num </span><br><span class="line">		FROM es_shopcar AS esh</span><br><span class="line">		GROUP BY esh.user_id</span><br><span class="line">		ORDER BY num DESC</span><br><span class="line">		LIMIT 0,2 ) AS max_counts) AS max_id</span><br><span class="line">	</span><br><span class="line">	WHERE eu.id=max_id.user_id</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 查询购物车中购买图书数量超过5本的用户信息</span><br><span class="line">SELECT *</span><br><span class="line">FROM es_user AS eu,</span><br><span class="line">(</span><br><span class="line">	SELECT total.user_id AS user_id</span><br><span class="line">	FROM(</span><br><span class="line">			SELECT esh.user_id AS user_id,SUM(esh.num) AS num</span><br><span class="line">			FROM es_shopcar AS esh</span><br><span class="line">			GROUP BY esh.user_id) AS total</span><br><span class="line">			WHERE total.num&gt;5) AS total_id</span><br><span class="line">WHERE eu.id=total_id.user_id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 查询购物车中购买了属于“诗歌”类别的图书的用户信息</span><br><span class="line">SELECT eu.*</span><br><span class="line">FROM</span><br><span class="line">	(SELECT eb.id AS id</span><br><span class="line">	FROM es_category AS ec,es_book AS eb</span><br><span class="line">	WHERE ec.`name`=&#x27;诗歌&#x27; AND eb.category_id=ec.id) AS bookID,</span><br><span class="line">	es_shopcar AS esh,</span><br><span class="line">	es_user AS eu </span><br><span class="line">WHERE bookID.id=esh.book_id AND esh.user_id=eu.id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 查询id为3的用户添加到购物车中的所有书籍的详细信息，</span><br><span class="line">-- 包括书籍的名字、书籍的作者、书籍的描述、书籍的出版社以及书籍的价格</span><br><span class="line">SELECT eb.*</span><br><span class="line">FROM es_book AS eb,</span><br><span class="line">(</span><br><span class="line">	SELECT esh.book_id AS book_id, SUM(esh.num)</span><br><span class="line">	FROM es_shopcar AS esh </span><br><span class="line">	WHERE esh.user_id=3</span><br><span class="line">	GROUP BY esh.book_id) AS bookID</span><br><span class="line">WHERE bookID.book_id = eb.id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 请查询和id为3的用户想要购买相同数量以及相同书籍的用户信息，同时显示该书籍的名字以及该书籍的购买数量</span><br><span class="line">	</span><br><span class="line">select book_id,num</span><br><span class="line">from es_shopcar</span><br><span class="line">where user_id = 3;</span><br><span class="line"></span><br><span class="line">SELECT eb.`name`,esh.num</span><br><span class="line">FROM es_shopcar AS esh,es_book AS eb</span><br><span class="line">WHERE (esh.user_id,esh.book_id,esh.num) IN (SELECT user_id,book_id,num FROM es_shopcar</span><br><span class="line">										-- 行查询</span><br><span class="line">										WHERE (book_id,num) IN (SELECT book_id,num FROM es_shopcar WHERE user_id = 3)</span><br><span class="line">										AND user_id != 3)</span><br><span class="line">			AND esh.book_id=eb.id;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 请查询和2号用户同一天注册,并且性别相同的用户详细信息,性别展示为男和女</span><br><span class="line"></span><br><span class="line">SELECT eu.username,eu.phone,</span><br><span class="line">CASE </span><br><span class="line">	WHEN eu.gender=0 THEN</span><br><span class="line">		REPLACE(eu.gender,0,&#x27;男&#x27;)</span><br><span class="line">	ELSE</span><br><span class="line">		REPLACE(eu.gender,1,&#x27;女&#x27;)</span><br><span class="line">END AS gender,date_format(eu.register_time,&#x27;%Y-%m-%d&#x27;)</span><br><span class="line">FROM es_user AS eu</span><br><span class="line">	WHERE (eu.gender,date_format(eu.register_time,&#x27;%d&#x27;)) IN (SELECT gender,date_format(register_time,&#x27;%d&#x27;)</span><br><span class="line">	FROM es_user </span><br><span class="line">	WHERE id=2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 查询购物车中购买图书数量超过各用户购买图书的平均数量的用户信息</span><br><span class="line">SELECT eu.*</span><br><span class="line">FROM (</span><br><span class="line"></span><br><span class="line">	SELECT esh.user_id AS user_id,SUM(esh.num) AS num</span><br><span class="line">	FROM es_shopcar AS esh</span><br><span class="line">	GROUP BY esh.user_id</span><br><span class="line">	HAVING num&gt;(</span><br><span class="line">		SELECT AVG(num)</span><br><span class="line">			FROM(</span><br><span class="line">				SELECT user_id,SUM(num)as num</span><br><span class="line">				FROM es_shopcar</span><br><span class="line">				GROUP BY user_id</span><br><span class="line">				) AS total</span><br><span class="line">		) )AS total1,</span><br><span class="line">	es_user AS eu</span><br><span class="line">WHERE total1.user_id = eu.id</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 查询每个用户购物车中图书价格最高的图书信息（包括图书名称和价格</span><br><span class="line">SELECT DISTINCT eb.id, eb.`name`,eb.price</span><br><span class="line">FROM es_book AS eb,es_shopcar AS esh</span><br><span class="line">WHERE (esh.user_id,eb.price) IN (</span><br><span class="line">		SELECT esh.user_id,MAX(eb.price) AS price</span><br><span class="line">		FROM es_shopcar AS esh , es_book AS eb</span><br><span class="line">		WHERE esh.book_id=eb.id</span><br><span class="line">		GROUP BY esh.user_id)</span><br><span class="line"></span><br><span class="line">-- es_user AS eu , es_shopcar AS esh , es_book AS eb,es_address AS ea,es_category AS ec</span><br><span class="line">-- 请查询出所有书籍的销售情况，统计展示其类别，</span><br><span class="line">-- 根据销售数据显示为畅销、一般、滞销三个等级（销量低于2为滞销，不低于2但低于5为一般，不低于5为畅销）</span><br><span class="line"></span><br><span class="line">SELECT esh.book_id,ec.`name`,</span><br><span class="line">CASE </span><br><span class="line">	WHEN SUM(num)&lt;2 THEN</span><br><span class="line">		&#x27;滞销&#x27;</span><br><span class="line">	WHEN SUM(num)&gt;5 THEN</span><br><span class="line">	  &#x27;畅销&#x27;</span><br><span class="line">	ELSE</span><br><span class="line">		&#x27;一般&#x27;</span><br><span class="line">END AS text</span><br><span class="line"></span><br><span class="line">FROM es_shopcar AS esh , es_book AS eb,es_category AS ec</span><br><span class="line">WHERE esh.book_id=eb.id AND eb.category_id=ec.id</span><br><span class="line">GROUP BY book_id</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="数据操作"><a href="#数据操作" class="headerlink" title="数据操作"></a>数据操作</h2><blockquote>
<p>请已有的estore数据库中执行下列sql语句：</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">-- 订单表</span><br><span class="line">DROP TABLE IF EXISTS `es_order`;</span><br><span class="line">CREATE TABLE `es_order`  (</span><br><span class="line">  `id` int(0) NOT NULL COMMENT &#x27;订单编号&#x27;,</span><br><span class="line">  `user_id` int(0) NULL DEFAULT NULL COMMENT &#x27;下单用户&#x27;,</span><br><span class="line">  `address_id` int(0) NULL DEFAULT NULL COMMENT &#x27;收货地址\n&#x27;,</span><br><span class="line">  `create_date` datetime(0) NULL DEFAULT NULL COMMENT &#x27;创建订单时间&#x27;,</span><br><span class="line">  `pay_way` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT &#x27;支付方式&#x27;,</span><br><span class="line">  `tracking_number` int(0) NULL DEFAULT NULL COMMENT &#x27;快递单号&#x27;,</span><br><span class="line">  `distribution_mode` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT &#x27;配送方式&#x27;,</span><br><span class="line">  `status` int(0) NULL DEFAULT 1 COMMENT &#x27;订单状态\n1.已创建未支付\n2.已支付未发货\n3.已发货未收货\n4.已收货\n5.已关闭 只能关闭 已创建未支付的订单&#x27;,</span><br><span class="line">  `pay_date` datetime(0) NULL DEFAULT NULL COMMENT &#x27;支付时间&#x27;,</span><br><span class="line">  PRIMARY KEY (`id`) USING BTREE,</span><br><span class="line">  INDEX `es_order_user_id_fk`(`user_id`) USING BTREE,</span><br><span class="line">  INDEX `es_order_address_id_fk`(`address_id`) USING BTREE,</span><br><span class="line">  CONSTRAINT `es_order_address_id_fk` FOREIGN KEY (`address_id`) REFERENCES `es_address` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT,</span><br><span class="line">  CONSTRAINT `es_order_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `es_user` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT</span><br><span class="line">) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;</span><br><span class="line"></span><br><span class="line">SET FOREIGN_KEY_CHECKS = 1;</span><br><span class="line"></span><br><span class="line">-- 订单项表</span><br><span class="line">DROP TABLE IF EXISTS `es_order_item`;</span><br><span class="line">CREATE TABLE `es_order_item`  (</span><br><span class="line">  `id` int(0) NOT NULL COMMENT &#x27;订单项编号&#x27;,</span><br><span class="line">  `order_id` int(0) NULL DEFAULT NULL COMMENT &#x27;所属订单&#x27;,</span><br><span class="line">  `book_id` int(0) NULL DEFAULT NULL COMMENT &#x27;包含书籍&#x27;,</span><br><span class="line">  `num` int(0) NULL DEFAULT NULL COMMENT &#x27;选购数量&#x27;,</span><br><span class="line">  PRIMARY KEY (`id`) USING BTREE,</span><br><span class="line">  INDEX `es_order_tiem_order_id_pk`(`order_id`) USING BTREE,</span><br><span class="line">  INDEX `es_order_tiem_book_id_pk`(`book_id`) USING BTREE,</span><br><span class="line">  CONSTRAINT `es_order_tiem_book_id_pk` FOREIGN KEY (`book_id`) REFERENCES `es_book` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT,</span><br><span class="line">  CONSTRAINT `es_order_tiem_order_id_pk` FOREIGN KEY (`order_id`) REFERENCES `es_order` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT</span><br><span class="line">) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;</span><br><span class="line"></span><br><span class="line">SET FOREIGN_KEY_CHECKS = 1;</span><br></pre></td></tr></table></figure>



<h3 id="综合题"><a href="#综合题" class="headerlink" title="综合题"></a>综合题</h3><p>小明是一位2023级高考生，现在小明已经得知其已经被杰普大学计算机系录取，为了提前学习到计算机相关的专业知识，他准备在杰普电子商城上购买相关书籍；</p>
<p>1）在进入到杰普商城后，小明发现自己还没有账号，请帮他创建一个账号吧</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>2）创建好账号后，小明想要查看商城中都有哪些栏目，以及栏目下各书籍的信息，请帮其查找一下吧</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>3）小明发现商城里书籍实在是太多了，看的他眼花缭乱的，他现在想要购买的只有计算机相关的图书，那么如何才能将计算机相关的图书找出来呢？（找出计算机类及其子类的图书）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>4）经过一番查找后，小明终于找到了计算机相关的书籍，但是小明却发现商城管理员将《数据结构与算法》这本书归于了 人工智能这一类别里面，而不是在计算机类这个类别下。小明将这一情况告知了客服，请帮助其将书籍放到合适的类别下吧</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>5）几经对比网上关于计算机必读书籍的推荐，小明初步确定了需要购买的书籍为 《计算机网络》、《数据结构与算法》、《操作系统》以及《计算机组成原理》；但是在购买时，发现商城中并没有《操作系统》以及《计算机组成原理》这两本书，于是他联系客服，希望能够上架这两本书。现在需要你帮助商城管理员将这两本书上架，库存各为100本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>6）在客服上架书籍后，小明立马将这几本书添加到了购物车中，请帮助小明将书籍添加到购物车吧</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>7）在看到小明为大学专业学习做准备后，同样被计算机专业录用的小刚，希望好朋友小明 利用小明的账号 帮他买一下这些专业书籍；那么如何做到给小刚购买这些书籍呢？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>8）确定好后，小明准备购买书籍，并且书籍寄往家里，请编写SQL语句帮助他完成购买操作吧，假定小明的用户id为1</p>
<ul>
<li>添加小明的收获地址</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>创建订单，将购物车中的图书生成一条订单记录：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>获取刚创建的订单的订单编号：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>将购物车中的图书信息添加到订单项表中：  1<em>15  2</em>30</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id user_id book_id num</span><br><span class="line"></span><br><span class="line">id book_id num;</span><br></pre></td></tr></table></figure>

<ul>
<li>更新图书库存，将购买的图书数量从库存中减去：</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> book <span class="keyword">set</span> num <span class="operator">=</span> n</span><br></pre></td></tr></table></figure>

<ul>
<li>更新购物车，将购物车中的图书信息删除：</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 假设小明的购物车中只有4本书</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">-- 创建好账号后，小明想要查看商城中都有哪些栏目，以及栏目下各书籍的信息，请帮其查找一下吧</span><br><span class="line">SELECT eb.`name`,eb.description,ec.id,ec.`name` AS category</span><br><span class="line">FROM es_book AS eb,es_category AS ec</span><br><span class="line">WHERE eb.category_id=ec.id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 小明发现商城里书籍实在是太多了，看的他眼花缭乱的，他现在想要购买的只有计算机相关的图书，</span><br><span class="line">-- 那么如何才能将计算机相关的图书找出来呢？（找出计算机类及其子类的图书）</span><br><span class="line">SELECT eb.`name`</span><br><span class="line">FROM es_book AS eb,(SELECT total.id AS id</span><br><span class="line">										FROM</span><br><span class="line">											(</span><br><span class="line">											SELECT ec.id AS id,ec.`name`,ec.description</span><br><span class="line">											FROM es_category AS ec</span><br><span class="line">											WHERE ec.description LIKE &#x27;%计算机%&#x27;) AS total) AS total1</span><br><span class="line">WHERE eb.category_id=total1.id</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 经过一番查找后，小明终于找到了计算机相关的书籍，但是小明却发现商城管理员将《数据结构与算法》这本书归于了</span><br><span class="line">-- 人工智能这一类别里面，而不是在计算机类这个类别下。小明将这一情况告知了客服，请帮助其将书籍放到合适的类别下吧</span><br><span class="line">UPDATE es_book </span><br><span class="line">SET category_id = (SELECT ec.id AS id</span><br><span class="line">									FROM es_category AS ec</span><br><span class="line">									WHERE ec.`name`LIKE &#x27;%计算机%&#x27;)  </span><br><span class="line">WHERE `name` LIKE &#x27;%数据结构与算法%&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 几经对比网上关于计算机必读书籍的推荐，小明初步确定了需要购买的书籍为</span><br><span class="line">-- 《计算机网络》、《数据结构与算法》、《操作系统》以及《计算机组成原理》；但是在购买时，</span><br><span class="line">-- 发现商城中并没有《操作系统》以及《计算机组成原理》这两本书，于是他联系客服，希望能够上架这两本书。</span><br><span class="line">-- 现在需要你帮助商城管理员将这两本书上架，库存各为100本</span><br><span class="line">INSERT INTO es_book ( id, NAME, cover, description, author, publisher, price, store_num, STATUS, category_id )</span><br><span class="line">VALUES</span><br><span class="line">	( 17, &#x27;操作系统&#x27;, NULL, &#x27;操作系统内容&#x27;, &#x27;Stanley B.Green&#x27;, &#x27;科技工业出版社&#x27;, 43.90, 100, 0, 5 ),</span><br><span class="line">	(18,&#x27;计算机组成原理&#x27;,NULL,&#x27;了解计算机原理内容&#x27;,&#x27;Park C. Zakas&#x27;,&#x27;电子工业出版社&#x27;,55.90,100,0,5 );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- es_user AS eu , es_shopcar AS esh , es_book AS eb,es_address AS ea,es_category AS ec</span><br><span class="line">-- 在客服上架书籍后，小明立马将这几本书添加到了购物车中，请帮助小明将书籍添加到购物车吧</span><br><span class="line">SELECT eb.id</span><br><span class="line">FROM es_book AS eb</span><br><span class="line">WHERE eb.`name` IN (&#x27;计算机网络&#x27;,&#x27;数据结构与算法&#x27;,&#x27;操作系统&#x27;,&#x27;计算机组成原理&#x27;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">INSERT INTO es_shopcar ( id, user_id, book_id, num )</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		-- 获取刚创建的订单的订单编号：</span><br><span class="line">		INSERT INTO es_order (id,user_id,address_id,create_date,pay_way,tracking_number,distribution_mode,`status`,pay_date)</span><br><span class="line">		VALUES (1,6,12,CURRENT_DATE,&#x27;支付宝&#x27;,001,&#x27;顺丰&#x27;,1,NULL),</span><br><span class="line">					(2,6,12,CURRENT_DATE,&#x27;VX&#x27;,003,&#x27;圆通&#x27;,2,CURRENT_DATE),</span><br><span class="line">					(3,6,12,CURRENT_DATE,&#x27;支付宝&#x27;,004,&#x27;顺丰&#x27;,3,date_sub(curdate(),interval 1 day)),</span><br><span class="line">					(4,6,12,CURRENT_DATE,&#x27;VX&#x27;,002,&#x27;JD&#x27;,1,date_sub(curdate(),interval -1 day));</span><br><span class="line">					</span><br><span class="line">		SELECT id</span><br><span class="line">		FROM es_order;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		-- 将购物车中的图书信息添加到订单项表中</span><br><span class="line">		INSERT INTO es_order_item (id,order_id,book_id,num)</span><br><span class="line">		VALUES (1,2,14,1),(2,1,17,1),(3,3,18,1),(4,4,9,1);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		-- 更新图书库存，将购买的图书数量从库存中减去</span><br><span class="line">		SELECT (store_num-1) AS store_num</span><br><span class="line">		FROM  es_book AS eb,(SELECT book_id</span><br><span class="line">												FROM es_order_item) AS total</span><br><span class="line">		WHERE total.book_id=eb.id;</span><br><span class="line">											</span><br><span class="line"></span><br><span class="line">		-- 更新购物车，将购物车中的图书信息删除：</span><br><span class="line">	</span><br><span class="line">		SELECT DISTINCT user_id</span><br><span class="line">		FROM es_order AS eo</span><br><span class="line">		</span><br><span class="line">		DELETE FROM es_shopcar WHERE user_id=6</span><br></pre></td></tr></table></figure>



<h2 id="数据定义"><a href="#数据定义" class="headerlink" title="数据定义"></a>数据定义</h2><h3 id="1、软件工程的流程是什么？"><a href="#1、软件工程的流程是什么？" class="headerlink" title="1、软件工程的流程是什么？"></a>1、软件工程的流程是什么？</h3><ol>
<li>需求分析：在这一阶段，软件工程师与客户合作，收集和分析用户的需求，确定软件的功能和特性。</li>
<li>设计：在这一阶段，软件工程师根据需求分析的结果，设计软件的整体结构和模块，确定软件的架构和技术方案。</li>
<li>编码：在这一阶段，软件工程师根据设计的要求，使用编程语言将设计的结构和模块实现为可执行的代码。</li>
<li>测试：在这一阶段，软件工程师对编码完成的软件进行测试，包括单元测试、集成测试和系统测试，以确保软件的功能和性能符合需求。</li>
<li>部署：在这一阶段，软件工程师将测试通过的软件部署到目标环境中，包括安装和配置软件，以确保软件能够正常运行。</li>
<li>维护：在软件发布后，软件工程师需要对软件进行维护和支持，包括修复bug、升级和添加新功能，以确保软件的稳定性和可用性。</li>
</ol>
<h3 id="2、综合题"><a href="#2、综合题" class="headerlink" title="2、综合题"></a>2、综合题</h3><p>某公司需要开发一个客户关系管理系统，需要用到以下表：</p>
<ul>
<li>客户表（crm_customer）：<ul>
<li>id: 客户编号</li>
<li>name: 客户姓名</li>
<li>phone: 客户联系电话</li>
<li>address: 客户地址</li>
</ul>
</li>
<li>销售机会表（crm_opportunity）：<ul>
<li>id: 销售机会编号</li>
<li>customer_id: 客户编号，外键 关联到客户表的id</li>
<li>activity_id：市场活动编号，外键 关联到市场活动表的id</li>
<li>source: 销售机会来源</li>
<li>amount: 预计金额</li>
<li>close_date: 预计关闭日期</li>
</ul>
</li>
<li>联系人表（crm_contact）：<ul>
<li>id: 联系人编号</li>
<li>customer_id: 客户编号，外键 关联到客户表的id</li>
<li>name: 联系人姓名</li>
<li>title: 联系人职务</li>
<li>phone: 联系人电话</li>
</ul>
</li>
<li>市场活动表（crm_activities）：<ul>
<li>id: 市场活动编号</li>
<li>name: 活动名称</li>
<li>start_date: 活动开始日期</li>
<li>end_date: 活动结束日期</li>
</ul>
</li>
</ul>
<p>其中，一个客户可以有多个销售机会，一个销售机会属于一个客户。一个客户可以有多个联系人，一个联系人属于一个客户。一个市场活动可以有多个销售机会，一个销售机会属于一个市场活动。一个销售机会可以有多个联系人参与，一个联系人可以参与多个销售机会。</p>
<p>请根据以上条件，完成下列需求：</p>
<p>1）请画出其对应的实体-关系图（E-R），<code>禁止使用Navicat逆向模型</code></p>
<p>2）请根据上述关系，创建对应的数据库与表</p>
<p>在进行数据库创建和建表操作之前，请先确定数据库的名称。假设我们将数据库命名为<code>crm</code>，以下是创建数据库和建表的SQL语句：</p>
<ul>
<li>创建数据库：</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> database crm</span><br></pre></td></tr></table></figure>

<ul>
<li>建表操作：</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> NAMES utf8mb4;</span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for crm_activities</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `crm_activities`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `crm_activities`  (</span><br><span class="line">  `id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;市场活动编号&#x27;</span>,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb3 <span class="keyword">COLLATE</span> utf8mb3_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;活动名称&#x27;</span>,</span><br><span class="line">  `start_date` datetime <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;活动开始日期&#x27;</span>,</span><br><span class="line">  `end_date` datetime <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;活动结束日期&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8mb4 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb4_general_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for crm_contact</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `crm_contact`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `crm_contact`  (</span><br><span class="line">  `id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;联系人编号&#x27;</span>,</span><br><span class="line">  `customer_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;客户编号，外键关联到客户表的id&#x27;</span>,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb3 <span class="keyword">COLLATE</span> utf8mb3_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;联系人姓名&#x27;</span>,</span><br><span class="line">  `title` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb3 <span class="keyword">COLLATE</span> utf8mb3_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;联系人职务&#x27;</span>,</span><br><span class="line">  `phone` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb3 <span class="keyword">COLLATE</span> utf8mb3_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;联系人电话&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  INDEX `cid`(`customer_id` <span class="keyword">ASC</span>) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `cid` <span class="keyword">FOREIGN</span> KEY (`customer_id`) <span class="keyword">REFERENCES</span> `crm_customer` (`id`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> RESTRICT <span class="keyword">ON</span> <span class="keyword">UPDATE</span> RESTRICT</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8mb4 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb4_general_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for crm_customer</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `crm_customer`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `crm_customer`  (</span><br><span class="line">  `id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;客户编号&#x27;</span>,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;客户姓名&#x27;</span>,</span><br><span class="line">  `phone` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;客户联系电话&#x27;</span>,</span><br><span class="line">  `address` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;客户地址&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8mb4 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb4_general_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for crm_opportunity</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `crm_opportunity`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `crm_opportunity`  (</span><br><span class="line">  `id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;销售机会编号&#x27;</span>,</span><br><span class="line">  `customer_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;客户编号，外键关联到客户表的id&#x27;</span>,</span><br><span class="line">  `activity_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;市场活动编号，外键关联到市场活动表的id&#x27;</span>,</span><br><span class="line">  `source` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb3 <span class="keyword">COLLATE</span> utf8mb3_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;销售机会来源&#x27;</span>,</span><br><span class="line">  `amount` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb3 <span class="keyword">COLLATE</span> utf8mb3_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;预计金额&#x27;</span>,</span><br><span class="line">  `<span class="keyword">close</span> <span class="type">date</span>` datetime <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;预计关闭日期&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  INDEX `c2id`(`customer_id` <span class="keyword">ASC</span>) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  INDEX `aid`(`activity_id` <span class="keyword">ASC</span>) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `aid` <span class="keyword">FOREIGN</span> KEY (`activity_id`) <span class="keyword">REFERENCES</span> `crm_activities` (`id`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> RESTRICT <span class="keyword">ON</span> <span class="keyword">UPDATE</span> RESTRICT,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `c2id` <span class="keyword">FOREIGN</span> KEY (`customer_id`) <span class="keyword">REFERENCES</span> `crm_customer` (`id`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> RESTRICT <span class="keyword">ON</span> <span class="keyword">UPDATE</span> RESTRICT</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8mb4 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb4_general_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for student_scores</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `student_scores`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student_scores`  (</span><br><span class="line">  `id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `stu_name` <span class="type">varchar</span>(<span class="number">50</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb3 <span class="keyword">COLLATE</span> utf8mb3_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `math_score` <span class="type">int</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `physics_score` <span class="type">int</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `chemistry_score` <span class="type">int</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8mb3 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb3_general_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="3、综合题2"><a href="#3、综合题2" class="headerlink" title="3、综合题2"></a>3、综合题2</h3><p>你好，我是一名刚毕业的大学生，现在入职到了一家IT企业做HR。可是我不懂电脑，你能帮我管理公司的人事档案数据吗？</p>
<p>需求1：公司要求，员工档案要包括以下这些信息：<code>编号</code>，<code>姓名</code>，<code>工资</code>，<code>生日</code></p>
<p>需求2：怎么样？数据库表创建好了？那麻烦你帮我把下面这些数据保存起来吧？</p>
<table>
<thead>
<tr>
<th>姓名</th>
<th>工资</th>
<th>生日</th>
</tr>
</thead>
<tbody><tr>
<td>马云</td>
<td>2025.33</td>
<td>1973-8-12</td>
</tr>
<tr>
<td>李彦宏</td>
<td>3209.49</td>
<td>1986-7-14</td>
</tr>
<tr>
<td>马化腾</td>
<td>1436.12</td>
<td>1964-8-10</td>
</tr>
</tbody></table>
<p>需求3：呀！对不起，我忘记了，表格中还需要保存“**<code>手机号</code>**”！能修改一下表格吗？</p>
<p>需求4：呀！对不起，我又忘记了，公司还需要维护“部门”数据，同时记录每个员工是属于哪个部门的！</p>
<p>需求5：有一位同事辞职了，请帮我把他从系统中删除吧！他的员工编号是：5</p>
<p>需求6：有一位同事涨工资了，涨了200块钱，同时他手机号也改了，新的手机号是：13586705312。请帮我改一下吧，你真是个好人！这位同事的编号是17。</p>
<p>需求7：公司要打印报表，请帮我把全部信息都打印出来吧！</p>
<p>需求8：有同事要补办工牌，请帮我把他的全部信息都调取出来，他的编号是：63</p>
<p>需求9：Linda快过生日了，帮我查一下她生日的具体日期和手机号吧！</p>
<p>需求10：公司要调查薪酬情况，请帮我查询一下工资在2000到5000之间的员工信息，以及工资在3000以上的人数！</p>
<p>需求11：听说有些同事的工资正好是1000、3000或5000，帮我查查他们是谁吧？</p>
<p>需求12：公司开年会，要让名字里有字母o的同事表演节目，帮我查一下吧！</p>
<p>需求13：糟糕，有些同事的手机号是空的，帮我查询一下是哪些人吧！</p>
<p>需求14：市场部的主管想了解他们部门员工的工资，帮我查一下吧！哦，对了，要按顺序显示哦！市场部的部门名称是：Sales</p>
<p>需求15：上述查询返回的记录太多了，查看起来很不方便，怎么样能够实现分页查询呢？</p>
<p><strong>请使用所学的SQL语句完成以上需求：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">-- 需求5：有一位同事辞职了，请帮我把他从系统中删除吧！他的员工编号是：5</span><br><span class="line">DELETE FROM eym WHERE id=5</span><br><span class="line"></span><br><span class="line">-- 需求6：有一位同事涨工资了，涨了200块钱，同时他手机号也改了，</span><br><span class="line">-- 新的手机号是：13586705312。请帮我改一下吧，你真是个好人！这位同事的编号是17。</span><br><span class="line">SELECT (eym_salary+200) AS eym_salary</span><br><span class="line">FROM eym </span><br><span class="line">WHERE id =17</span><br><span class="line"></span><br><span class="line">UPDATE eym SET phone=&#x27;13586705312&#x27; WHERE id=17</span><br><span class="line"></span><br><span class="line">-- 需求7：公司要打印报表，请帮我把全部信息都打印出来吧！</span><br><span class="line">SELECT *</span><br><span class="line">FROM eym</span><br><span class="line"></span><br><span class="line">-- 需求8：有同事要补办工牌，请帮我把他的全部信息都调取出来，他的编号是：63</span><br><span class="line">SELECT *</span><br><span class="line">FROM eym </span><br><span class="line">WHERE id=63</span><br><span class="line"></span><br><span class="line">-- 需求9：Linda快过生日了，帮我查一下她生日的具体日期和手机号吧！</span><br><span class="line">SELECT birthday,phone</span><br><span class="line">FROM eym </span><br><span class="line">WHERE eym_name=&#x27;Linda&#x27;</span><br><span class="line"></span><br><span class="line"> -- 需求10：公司要调查薪州情况，请帮我查询一下工资在2000到5000之间的员工信息，以及工资在3000以上的人数！</span><br><span class="line"> SELECT *</span><br><span class="line"> FROM eym </span><br><span class="line"> WHERE eym_salary&gt;2000 AND eym_salary&lt;5000;</span><br><span class="line"> </span><br><span class="line"> SELECT SUM(IF( eym_salary&gt;3000,1,0)) AS nums</span><br><span class="line"> FROM eym </span><br><span class="line"> WHERE eym_salary&gt;2000 AND eym_salary&lt;5000</span><br><span class="line"> </span><br><span class="line">-- 需求11：听说有些同事的工资正好是1000、3000或5000，帮我查查他们是谁吧？</span><br><span class="line">SELECT eym_name </span><br><span class="line">FROM eym </span><br><span class="line">WHERE eym_salary =1000.0 OR eym_salary =3000.0 OR eym_salary =5000.0 </span><br><span class="line"></span><br><span class="line">-- 需求12：公司开年会，要让名字里有字母0的同事表演节目，帮我查一下吧</span><br><span class="line">SELECT eym_name</span><br><span class="line">FROM eym</span><br><span class="line">WHERE eym_name LIKE &#x27;%o%&#x27;</span><br><span class="line"></span><br><span class="line">-- -- 需求3：糟糕，有些同事的手机号是空的，帮我查询一下是哪些人吧！</span><br><span class="line">SELECT eym_name </span><br><span class="line">FROM eym </span><br><span class="line">WHERE phone IS NULL</span><br><span class="line"></span><br><span class="line"> -- 需求14：市场部的主管想了解他们部门员工的工资，帮我查一下吧！哦，对了，要按顺序显示哦！市场部的部门名称是：Ses</span><br><span class="line"> SELECT e.eym_name,e.eym_salary</span><br><span class="line"> FROM eym AS e,contran AS c </span><br><span class="line"> WHERE c.`name`=&#x27;Ses&#x27; AND e.men_id=c.id</span><br><span class="line"> </span><br><span class="line">-- 需求15：上述查询返回的记录太多了，查看起来很不方便，怎么样能够实现分页查询呢？</span><br><span class="line">SELECT e.eym_name,e.eym_salary</span><br><span class="line"> FROM eym AS e,contran AS c </span><br><span class="line"> WHERE c.`name`=&#x27;Ses&#x27; AND e.men_id=c.id</span><br><span class="line"> LIMIT 0,1;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="事务控制"><a href="#事务控制" class="headerlink" title="事务控制"></a>事务控制</h2><h3 id="1、简答题"><a href="#1、简答题" class="headerlink" title="1、简答题"></a>1、简答题</h3><p>1）什么是数据库事务？简要描述事务的特性。</p>
<blockquote>
<p>数据库事务是指一组数据库操作，这些操作要么全部成功执行，要么全部失败回滚。事务具有以下特性：</p>
</blockquote>
<ol>
<li><strong>原子性（Atomicity）</strong>：事务中的操作要么全部执行成功，要么全部失败回滚。如果事务中的任何一个操作失败，那么整个事务将回滚到初始状态，不会对数据库造成任何改变。</li>
<li><strong>一致性（Consistency）</strong>：事务的执行不会破坏数据库的完整性约束。事务开始前和结束后，数据库的完整性约束必须保持一致。</li>
<li><strong>隔离性（Isolation）</strong>：事务的执行是相互隔离的，一个事务的操作不会被其他事务所干扰。事务之间是相互独立的，每个事务在执行过程中所做的修改对其他事务是不可见的，直到事务提交。</li>
<li><strong>持久性（Durability）</strong>：一旦事务提交，其所做的修改将永久保存在数据库中，即使发生系统故障也不会丢失。</li>
</ol>
<p>2）MySQL如何开启事务操作？</p>
<p>MySQL可以通过以下<strong>两种方式</strong>开启事务操作：</p>
<ol>
<li>使用BEGIN、START TRANSACTION或SET autocommit&#x3D;0语句开启事务。例如：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">BEGIN;</span><br><span class="line">-- 或者</span><br><span class="line">START TRANSACTION;</span><br><span class="line">-- 或者</span><br><span class="line">SET autocommit=0;</span><br></pre></td></tr></table></figure>

<ol>
<li>使用SET autocommit&#x3D;0语句关闭自动提交，并使用COMMIT提交事务或使用ROLLBACK回滚事务。例如：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SET autocommit=0;</span><br><span class="line">-- 执行一系列的SQL语句</span><br><span class="line">COMMIT; -- 提交事务</span><br><span class="line">-- 或者</span><br><span class="line">ROLLBACK; -- 回滚事务</span><br></pre></td></tr></table></figure>

<p>在开启事务后，可以执行一系列的SQL语句，然后通过COMMIT提交事务，将之前的操作永久保存到数据库中；或者通过ROLLBACK回滚事务，将之前的操作撤销。</p>
<blockquote>
<p>3）请解释数据库事务的提交和回滚操作，以及它们对数据库的影响。</p>
</blockquote>
<ul>
<li><p>数据库事务是一组数据库操作的逻辑单元，它要么完全执行，要么完全不执行。事务的提交操作将永久保存所有已执行的更改，而回滚操作将撤销所有未提交的更改。</p>
</li>
<li><p>事务的提交操作将确保所有已执行的更改永久保存到数据库中。一旦事务提交，数据库将更新并持久保存这些更改，这意味着它们将对其他用户和应用程序可见。</p>
</li>
<li><p>回滚操作将撤销所有未提交的更改，将数据库恢复到事务开始之前的状态。这意味着任何在事务中进行的更改都将被忽略，并且数据库将回到事务开始之前的状态。</p>
</li>
<li><p>事务的提交和回滚操作对数据库的影响是确保数据的一致性和完整性。提交操作保证了已执行的更改的持久性，而回滚操作确保了未提交的更改不会对数据库产生影响。</p>
</li>
</ul>
<p>4）什么是事务的隔离级别？列举MYSQL支持的事务隔离级别，并简要描述每个级别的特点。</p>
<ul>
<li>事务的隔离级别是指多个并发事务之间的隔离程度，用于控制事务之间的相互影响和可见性。</li>
</ul>
<p><strong>每个级别的特点如下：</strong></p>
<ul>
<li>读未提交：事务可以读取其他事务未提交的数据，可能会导致脏读。</li>
<li>读已提交：事务只能读取其他事务已经提交的数据，解决了脏读的问题，但可能会导致不可重复读。</li>
<li>可重复读：事务在整个过程中看到的数据保持一致，解决了不可重复读的问题，但可能会导致幻读。</li>
<li>串行化：事务串行执行，避免了脏读、不可重复读和幻读的问题，但并发性能较差。</li>
</ul>
<p>5）请解释数据库的脏读、不可重复读和幻读问题，并说明这些问题如何通过事务隔离级别解决。</p>
<ul>
<li><p>脏读（Dirty Read）： 脏读是指一个事务读取了另一个事务尚未提交的数据。如果事务A读取了事务B正在修改但尚未提交的数据，而事务B最终回滚了，那么事务A读取到的数据就是不正确的。</p>
</li>
<li><p>不可重复读（Non-repeatable Read）： 不可重复读是指在同一个事务中，多次读取同一条记录时，得到的结果不一致。这是因为在事务A多次读取同一条记录的过程中，事务B修改并提交了该记录，导致事务A每次读取到的数据不同。</p>
</li>
<li><p>幻读（Phantom Read）： 幻读是指在同一个事务中，多次执行同一条查询语句时，得到的结果集不一致。这是因为在事务A多次执行同一条查询语句的过程中，事务B插入、修改或删除了符合查询条件的记录，导致事务A每次查询到的结果集不同。</p>
</li>
</ul>
<p>解决：<strong>方法1：事务隔离级别设置为：read committed</strong>。 方法2：读取时加排它锁（select…for update），事务提交才会释放锁，修改时加共享锁（update …lock in share mode)。</p>
<h2 id="索引与视图"><a href="#索引与视图" class="headerlink" title="索引与视图"></a>索引与视图</h2><h3 id="1、简答题-1"><a href="#1、简答题-1" class="headerlink" title="1、简答题"></a>1、简答题</h3><p>1）什么是数据库索引？它有什么作用？</p>
<blockquote>
<p>数据库索引是一种数据结构，用于提高数据库查询的性能。它通过创建一个按特定列或列组织的数据结构，加快查询速度，减少数据的扫描和比较次数。</p>
</blockquote>
<p>2）解释什么是聚集索引和非聚集索引？它们有何区别？</p>
<blockquote>
<p>1、聚集索引是按照表的主键进行排序的索引，它决定了表中数据的物理存储顺序。非聚集索引是按照非主键列进行排序的索引，它包含索引列的值和指向实际数据行的指针。</p>
<p>2、区别在于，一个表只能有一个聚集索引，它决定了数据的物理存储顺序，而非聚集索引可以有多个，它们是独立于数据存储顺序的。</p>
</blockquote>
<p>3）什么是唯一索引？它与主键有何区别？</p>
<blockquote>
<p>唯一索引是确保索引列的值在整个表中是唯一的索引。它与主键的区别在于，主键是一种特殊的唯一索引，用于唯一标识表中的每一行。</p>
</blockquote>
<p>4）什么是复合索引？它在哪些情况下比单列索引更有用？</p>
<blockquote>
<p>复合索引是一个索引包含多个列的索引。它在多列查询中比单列索引更有用，可以提高查询性能。当查询涉及到复合索引的所有列时，复合索引可以更有效地定位匹配的数据。</p>
</blockquote>
<p>5）为什么在表的列上创建索引会提高查询性能？</p>
<blockquote>
<p>在表的列上创建索引可以提高查询性能，因为索引可以减少数据的扫描和比较次数。通过使用索引，数据库可以更快地定位和访问所需的数据。</p>
</blockquote>
<p>6）列举创建索引的优点和缺点。</p>
<blockquote>
<p>在表的列上创建索引可以提高查询性能，因为索引可以减少数据的扫描和比较次数。通过使用索引，数据库可以更快地定位和访问所需的数据。</p>
</blockquote>
<p>7）在何种情况下应该避免创建索引？</p>
<blockquote>
<p> 应该避免创建索引的情况包括对于小型表或稀疏数据、频繁进行大量的插入、删除和更新操作的表、经常变更的列、不常用于查询条件的列</p>
</blockquote>
<p>8）如何选择在哪些列上创建索引？有哪些因素需要考虑？</p>
<blockquote>
<p>选择在哪些列上创建索引需要考虑以下因素：查询频率、查询条件、数据的唯一性、数据的分布度、表的大小和存储空间。</p>
</blockquote>
<p>9）如何在MySQL中创建索引？列举常见的创建索引语句。</p>
<blockquote>
<p>在MySQL中创建索引可以使用以下语句：</p>
<ul>
<li>创建单列索引：CREATE INDEX index_name ON table_name (column_name);</li>
<li>创建复合索引：CREATE INDEX index_name ON table_name (column1, column2);</li>
</ul>
</blockquote>
<p>10）如何删除表的索引？列举删除索引的语句。</p>
<blockquote>
<p>删除表的索引可以使用以下语句： - 删除单列索引：DROP INDEX index_name ON table_name; - 删除复合索引：DROP INDEX index_name ON table_name;</p>
</blockquote>
<p>11） 什么是数据库视图？它的作用是什么？</p>
<blockquote>
<p>数据库视图是一种虚拟表，它是基于查询结果的可视化表示。它的作用是简化复杂的查询，隐藏底层表的细节，并提供更方便的数据访问方式。</p>
</blockquote>
<p>12） 如何在MySQL中创建视图？列举创建视图的语句。</p>
<blockquote>
<p>在MySQL中创建视图可以使用以下语句： CREATE VIEW view_name AS SELECT column1, column2 FROM table_name WHERE condition;</p>
</blockquote>
<p>13） 视图是否占用存储空间？为什么？</p>
<blockquote>
<p>视图本身不占用存储空间，它只是一个查询的定义。当查询视图时，实际上是执行了视图定义中的查询语句，返回查询结果。</p>
</blockquote>
<p>14） 视图是否可以被索引？为什么？</p>
<blockquote>
<p>视图可以被索引，但是索引实际上是在视图的基础表上创建的。因为视图本身不存储数据，所以无法直接在视图上创建索引。</p>
</blockquote>
<p>15） 视图与表之间有何区别？它们在查询中的使用有何异同？</p>
<blockquote>
<p>视图与表之间的区别在于，视图是基于查询结果的虚拟表，不存储实际的数据，而表是存储数据的实体。在查询中的使用上，可以像查询表一样查询视图，但是对视图的更新操作可能有限制。</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://6wensitan.github.io">6wensitan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://6wensitan.github.io/post/c9137770.html">https://6wensitan.github.io/post/c9137770.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://6wensitan.github.io" target="_blank">Green Park</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MYSQL/">MYSQL</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.pixabay.com/photo/2023/07/16/09/31/cat-8130334_640.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/d5d6f5d3.html" title="深入JVM虚拟机"><img class="cover" src="https://cdn.pixabay.com/photo/2023/08/24/00/58/horse-8209523_640.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">深入JVM虚拟机</div></div></a></div><div class="next-post pull-right"><a href="/post/1c53329c.html" title="剑指offer"><img class="cover" src="https://cdn.pixabay.com/photo/2023/06/16/13/46/surfing-8068052_640.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">剑指offer</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL%E4%BD%9C%E4%B8%9A"><span class="toc-number">1.</span> <span class="toc-text">MySQL作业</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">数据库概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9F%E8%AF%B7%E7%AE%80%E8%A6%81%E6%8F%8F%E8%BF%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%9C%E7%94%A8%E3%80%82"><span class="toc-number">1.1.1.</span> <span class="toc-text">1、什么是数据库？请简要描述数据库的定义和作用。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9F%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E2%80%9D%E5%85%B3%E7%B3%BB%E2%80%9D%E4%BD%93%E7%8E%B0%E5%9C%A8%E5%93%AA%E4%BA%9B%E6%96%B9%E9%9D%A2%EF%BC%9F"><span class="toc-number">1.1.2.</span> <span class="toc-text">2、什么是关系型数据库？关系型数据库中的”关系”体现在哪些方面？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%AF%B9DB%E3%80%81DBMS%E3%80%81SQL%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">1.1.3.</span> <span class="toc-text">3、说说你对DB、DBMS、SQL的理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%B8%B8%E8%A7%81%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%8C%E5%88%97%E5%87%BA3%E4%B8%AA%E5%B9%B6%E7%AE%80%E8%BF%B0%E4%B8%80%E4%B8%8B%E5%85%B6%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.1.4.</span> <span class="toc-text">4、常见的数据库对象有哪些，列出3个并简述一下其在数据库中的作用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%B8%8E%E5%BB%BA%E5%BA%93"><span class="toc-number">1.2.</span> <span class="toc-text">用户与建库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAMySQL%E7%94%A8%E6%88%B7briup%EF%BC%8C%E5%B9%B6%E7%BB%99%E5%85%B6%E8%B5%8B%E4%BA%88%E6%9D%83%E9%99%90"><span class="toc-number">1.2.1.</span> <span class="toc-text">1、创建一个MySQL用户briup，并给其赋予权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93test%EF%BC%8C%E5%B9%B6%E6%8C%87%E5%AE%9A%E5%85%B6%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F%E4%B8%BAutf8mb4"><span class="toc-number">1.2.2.</span> <span class="toc-text">2、创建一个数据库test，并指定其编码格式为utf8mb4</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80DQL"><span class="toc-number">1.3.</span> <span class="toc-text">基础DQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E7%8E%B0%E6%9C%89%E4%B8%80%E4%BB%BDsql%E8%84%9A%E6%9C%AC%EF%BC%8C%E5%A6%82%E4%BD%95%E5%B0%86%E5%85%B6%E5%AF%BC%E5%85%A5%E5%88%B0MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD"><span class="toc-number">1.3.1.</span> <span class="toc-text">1、现有一份sql脚本，如何将其导入到MySQL数据库中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E8%AF%B7%E5%9C%A8%E4%B8%8A%E8%BF%B0%E5%AF%BC%E5%85%A5%E7%9A%84%E6%95%B0%E6%8D%AE%E5%9F%BA%E7%A1%80%E4%B8%8A%EF%BC%8C%E5%AE%8C%E6%88%90%E4%BB%A5%E4%B8%8B%E6%93%8D%E4%BD%9C"><span class="toc-number">1.3.2.</span> <span class="toc-text">2、请在上述导入的数据基础上，完成以下操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E4%B8%8E%E5%88%86%E9%A1%B5"><span class="toc-number">1.4.</span> <span class="toc-text">运算与分页</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E6%A0%B9%E6%8D%AE%E4%B8%8A%E8%BF%B0%E8%A1%A8%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%88%90%E4%B8%8B%E5%88%97%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.</span> <span class="toc-text">1、根据上述表及数据完成下列操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E8%AF%B7%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8Bsql%E8%AF%AD%E5%8F%A5%EF%BC%8C%E5%AE%8C%E6%88%90%E4%B8%8B%E5%88%97%E8%A6%81%E6%B1%82"><span class="toc-number">1.4.2.</span> <span class="toc-text">2、请执行以下sql语句，完成下列要求</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.</span> <span class="toc-text">多表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E8%AF%B7%E6%A0%B9%E6%8D%AE%E4%B8%8A%E8%BF%B0%E8%A1%A8%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%88%90%E4%B8%8B%E5%88%97%E6%93%8D%E4%BD%9C"><span class="toc-number">1.5.1.</span> <span class="toc-text">1、请根据上述表与数据完成下列操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E8%AF%B7%E6%A0%B9%E6%8D%AE%E4%B8%8A%E8%BF%B0%E8%A1%A8%E5%92%8C%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%88%90%E4%B8%8B%E5%88%97%E6%93%8D%E4%BD%9C"><span class="toc-number">1.6.1.</span> <span class="toc-text">1、请根据上述表和数据完成下列操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.7.</span> <span class="toc-text">子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E8%AF%B7%E6%A0%B9%E6%8D%AE%E4%B8%8A%E8%BF%B0%E8%A1%A8%E5%92%8C%E6%95%B0%E6%8D%AE%E4%BD%BF%E7%94%A8%E5%AD%90%E6%9F%A5%E8%AF%A2%E5%AE%8C%E6%88%90%E4%B8%8B%E5%88%97%E6%93%8D%E4%BD%9C"><span class="toc-number">1.7.1.</span> <span class="toc-text">1、请根据上述表和数据使用子查询完成下列操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="toc-number">1.8.</span> <span class="toc-text">数据操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%BC%E5%90%88%E9%A2%98"><span class="toc-number">1.8.1.</span> <span class="toc-text">综合题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89"><span class="toc-number">1.9.</span> <span class="toc-text">数据定义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E7%9A%84%E6%B5%81%E7%A8%8B%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.9.1.</span> <span class="toc-text">1、软件工程的流程是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E7%BB%BC%E5%90%88%E9%A2%98"><span class="toc-number">1.9.2.</span> <span class="toc-text">2、综合题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E7%BB%BC%E5%90%88%E9%A2%982"><span class="toc-number">1.9.3.</span> <span class="toc-text">3、综合题2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E6%8E%A7%E5%88%B6"><span class="toc-number">1.10.</span> <span class="toc-text">事务控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E7%AE%80%E7%AD%94%E9%A2%98"><span class="toc-number">1.10.1.</span> <span class="toc-text">1、简答题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E4%B8%8E%E8%A7%86%E5%9B%BE"><span class="toc-number">1.11.</span> <span class="toc-text">索引与视图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E7%AE%80%E7%AD%94%E9%A2%98-1"><span class="toc-number">1.11.1.</span> <span class="toc-text">1、简答题</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2023/07/16/09/31/cat-8130334_640.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 6wensitan</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"></div><script src="/js/sun_moon.js" async></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'b16a1fa0e63c46a4b8f28abfb06ae3fe';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.982279,28.19409';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>